"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/dividend/balance/route";
exports.ids = ["app/api/dividend/balance/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdividend%2Fbalance%2Froute&page=%2Fapi%2Fdividend%2Fbalance%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdividend%2Fbalance%2Froute.ts&appDir=%2FUsers%2Fdaniel%2FCode%2F10_project%2FGame%2Fserver%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdaniel%2FCode%2F10_project%2FGame%2Fserver&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdividend%2Fbalance%2Froute&page=%2Fapi%2Fdividend%2Fbalance%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdividend%2Fbalance%2Froute.ts&appDir=%2FUsers%2Fdaniel%2FCode%2F10_project%2FGame%2Fserver%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdaniel%2FCode%2F10_project%2FGame%2Fserver&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_daniel_Code_10_project_Game_server_app_api_dividend_balance_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/dividend/balance/route.ts */ \"(rsc)/./app/api/dividend/balance/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/dividend/balance/route\",\n        pathname: \"/api/dividend/balance\",\n        filename: \"route\",\n        bundlePath: \"app/api/dividend/balance/route\"\n    },\n    resolvedPagePath: \"/Users/daniel/Code/10_project/Game/server/app/api/dividend/balance/route.ts\",\n    nextConfigOutput,\n    userland: _Users_daniel_Code_10_project_Game_server_app_api_dividend_balance_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/dividend/balance/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZkaXZpZGVuZCUyRmJhbGFuY2UlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmRpdmlkZW5kJTJGYmFsYW5jZSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmRpdmlkZW5kJTJGYmFsYW5jZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmRhbmllbCUyRkNvZGUlMkYxMF9wcm9qZWN0JTJGR2FtZSUyRnNlcnZlciUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZkYW5pZWwlMkZDb2RlJTJGMTBfcHJvamVjdCUyRkdhbWUlMkZzZXJ2ZXImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzJCO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGdhbWUtYWkvc2VydmVyLz9lOThiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9kYW5pZWwvQ29kZS8xMF9wcm9qZWN0L0dhbWUvc2VydmVyL2FwcC9hcGkvZGl2aWRlbmQvYmFsYW5jZS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZGl2aWRlbmQvYmFsYW5jZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2RpdmlkZW5kL2JhbGFuY2VcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2RpdmlkZW5kL2JhbGFuY2Uvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvZGFuaWVsL0NvZGUvMTBfcHJvamVjdC9HYW1lL3NlcnZlci9hcHAvYXBpL2RpdmlkZW5kL2JhbGFuY2Uvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2RpdmlkZW5kL2JhbGFuY2Uvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdividend%2Fbalance%2Froute&page=%2Fapi%2Fdividend%2Fbalance%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdividend%2Fbalance%2Froute.ts&appDir=%2FUsers%2Fdaniel%2FCode%2F10_project%2FGame%2Fserver%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdaniel%2FCode%2F10_project%2FGame%2Fserver&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/dividend/balance/route.ts":
/*!*******************************************!*\
  !*** ./app/api/dividend/balance/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   OPTIONS: () => (/* binding */ OPTIONS)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_address_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/address-utils */ \"(rsc)/./lib/address-utils.ts\");\n/* harmony import */ var _lib_blockchain__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/blockchain */ \"(rsc)/./lib/blockchain.ts\");\n/**\n * 查询用户分红接口\n *\n * 功能：\n * 1. 查询用户可提取的分红\n * 2. 查询用户已提取的分红\n * 3. 查询用户的 $GAME 余额\n * 4. 查询分红池的整体统计\n *\n * 请求方式: GET /api/dividend/balance\n *\n * 查询参数:\n * - userAddress: 用户钱包地址（必需）\n *\n * 响应格式:\n * {\n *   \"success\": true,\n *   \"userAddress\": \"0x...\",\n *   \"dividend\": {\n *     \"pending\": {\n *       \"wei\": \"7000000000000000000\",\n *       \"virtual\": \"7\"\n *     },\n *     \"claimed\": {\n *       \"wei\": \"3000000000000000000\",\n *       \"virtual\": \"3\"\n *     },\n *     \"gameBalance\": {\n *       \"wei\": \"100000000000000000000\",\n *       \"game\": \"100\"\n *     },\n *     \"totalEarnable\": {\n *       \"wei\": \"10000000000000000000\",\n *       \"virtual\": \"10\"\n *     }\n *   },\n *   \"poolStats\": {\n *     \"totalDividendPool\": \"1000000000000000000000\",\n *     \"totalClaimed\": \"300000000000000000000\",\n *     \"totalPending\": \"700000000000000000000\",\n *     \"totalDividendPerShare\": \"50000000000000000\"\n *   },\n *   \"timestamp\": 1729876000000\n * }\n */ \n\n\nasync function GET(request) {\n    try {\n        // 从查询参数中获取 userAddress\n        const userAddress = request.nextUrl.searchParams.get(\"userAddress\");\n        if (!userAddress) {\n            console.warn(\"[Dividend Balance API] 缺少必需参数: userAddress\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Missing required parameter: userAddress\"\n            }, {\n                status: 400\n            });\n        }\n        // 验证地址格式\n        if (!(0,_lib_address_utils__WEBPACK_IMPORTED_MODULE_1__.isValidAddress)(userAddress)) {\n            console.warn(\"[Dividend Balance API] 无效的钱包地址:\", userAddress);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Invalid user address format\"\n            }, {\n                status: 400\n            });\n        }\n        const normalizedAddress = (0,_lib_address_utils__WEBPACK_IMPORTED_MODULE_1__.normalizeAddress)(userAddress);\n        console.log(\"[Dividend Balance API] 查询分红信息，用户地址:\", normalizedAddress);\n        // 获取分红池地址\n        const dividendPoolAddress = process.env.GAME_DIVIDEND_POOL_ADDRESS;\n        if (!dividendPoolAddress) {\n            console.error(\"[Dividend Balance API] GAME_DIVIDEND_POOL_ADDRESS 未配置\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Dividend pool address not configured\"\n            }, {\n                status: 500\n            });\n        }\n        // 创建区块链客户端并查询数据\n        const blockchain = (0,_lib_blockchain__WEBPACK_IMPORTED_MODULE_2__.createBlockchainClient)();\n        // 查询用户的分红信息\n        console.log(\"[Dividend Balance API] 查询用户分红信息...\");\n        const userDividendInfo = await blockchain.getUserDividendInfo(dividendPoolAddress, normalizedAddress);\n        // 查询分红池的统计数据\n        console.log(\"[Dividend Balance API] 查询分红池统计...\");\n        const poolStats = await blockchain.getDividendPoolStats(dividendPoolAddress);\n        // 格式化返回数据\n        const pendingWei = userDividendInfo.pending;\n        const claimedWei = userDividendInfo.claimed;\n        const gameBalanceWei = userDividendInfo.gameBalance;\n        const totalEarnableWei = (BigInt(pendingWei) + BigInt(claimedWei)).toString();\n        console.log(\"[Dividend Balance API] 数据格式化完成\");\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            userAddress: normalizedAddress,\n            dividend: {\n                pending: {\n                    wei: pendingWei,\n                    virtual: (0,_lib_blockchain__WEBPACK_IMPORTED_MODULE_2__.fromWei)(pendingWei, 18)\n                },\n                claimed: {\n                    wei: claimedWei,\n                    virtual: (0,_lib_blockchain__WEBPACK_IMPORTED_MODULE_2__.fromWei)(claimedWei, 18)\n                },\n                gameBalance: {\n                    wei: gameBalanceWei,\n                    game: (0,_lib_blockchain__WEBPACK_IMPORTED_MODULE_2__.fromWei)(gameBalanceWei, 18)\n                },\n                totalEarnable: {\n                    wei: totalEarnableWei,\n                    virtual: (0,_lib_blockchain__WEBPACK_IMPORTED_MODULE_2__.fromWei)(totalEarnableWei, 18)\n                }\n            },\n            poolStats: {\n                totalDividendPool: poolStats.totalDividendPool,\n                totalClaimed: poolStats.totalClaimed,\n                totalPending: poolStats.totalPending,\n                totalDividendPerShare: poolStats.totalDividendPerShare\n            },\n            timestamp: Date.now()\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"[Dividend Balance API] 处理请求失败:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Failed to query dividend balance\",\n            details: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n/**\n * 处理 OPTIONS 请求（用于 CORS 预检）\n */ async function OPTIONS() {\n    return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(null, {\n        status: 200,\n        headers: {\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Access-Control-Allow-Methods\": \"GET, OPTIONS\",\n            \"Access-Control-Allow-Headers\": \"Content-Type, Authorization\"\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2RpdmlkZW5kL2JhbGFuY2Uvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0E0Q0MsR0FFc0Q7QUFDZTtBQUNKO0FBRTNELGVBQWVLLElBQUlDLE9BQW9CO0lBQzVDLElBQUk7UUFDRix1QkFBdUI7UUFDdkIsTUFBTUMsY0FBY0QsUUFBUUUsT0FBTyxDQUFDQyxZQUFZLENBQUNDLEdBQUcsQ0FBQztRQUVyRCxJQUFJLENBQUNILGFBQWE7WUFDaEJJLFFBQVFDLElBQUksQ0FBQztZQUNiLE9BQU9aLHFEQUFZQSxDQUFDYSxJQUFJLENBQ3RCO2dCQUNFQyxTQUFTO2dCQUNUQyxPQUFPO1lBQ1QsR0FDQTtnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsU0FBUztRQUNULElBQUksQ0FBQ2Ysa0VBQWNBLENBQUNNLGNBQWM7WUFDaENJLFFBQVFDLElBQUksQ0FBQyxtQ0FBbUNMO1lBQ2hELE9BQU9QLHFEQUFZQSxDQUFDYSxJQUFJLENBQ3RCO2dCQUNFQyxTQUFTO2dCQUNUQyxPQUFPO1lBQ1QsR0FDQTtnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsTUFBTUMsb0JBQW9CZixvRUFBZ0JBLENBQUNLO1FBQzNDSSxRQUFRTyxHQUFHLENBQUMsdUNBQXVDRDtRQUVuRCxVQUFVO1FBQ1YsTUFBTUUsc0JBQXNCQyxRQUFRQyxHQUFHLENBQUNDLDBCQUEwQjtRQUNsRSxJQUFJLENBQUNILHFCQUFxQjtZQUN4QlIsUUFBUUksS0FBSyxDQUFDO1lBQ2QsT0FBT2YscURBQVlBLENBQUNhLElBQUksQ0FDdEI7Z0JBQ0VDLFNBQVM7Z0JBQ1RDLE9BQU87WUFDVCxHQUNBO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxnQkFBZ0I7UUFDaEIsTUFBTU8sYUFBYXBCLHVFQUFzQkE7UUFFekMsWUFBWTtRQUNaUSxRQUFRTyxHQUFHLENBQUM7UUFDWixNQUFNTSxtQkFBbUIsTUFBTUQsV0FBV0UsbUJBQW1CLENBQUNOLHFCQUFxQkY7UUFFbkYsYUFBYTtRQUNiTixRQUFRTyxHQUFHLENBQUM7UUFDWixNQUFNUSxZQUFZLE1BQU1ILFdBQVdJLG9CQUFvQixDQUFDUjtRQUV4RCxVQUFVO1FBQ1YsTUFBTVMsYUFBYUosaUJBQWlCSyxPQUFPO1FBQzNDLE1BQU1DLGFBQWFOLGlCQUFpQk8sT0FBTztRQUMzQyxNQUFNQyxpQkFBaUJSLGlCQUFpQlMsV0FBVztRQUVuRCxNQUFNQyxtQkFBbUIsQ0FBQ0MsT0FBT1AsY0FBY08sT0FBT0wsV0FBVSxFQUFHTSxRQUFRO1FBRTNFekIsUUFBUU8sR0FBRyxDQUFDO1FBRVosT0FBT2xCLHFEQUFZQSxDQUFDYSxJQUFJLENBQ3RCO1lBQ0VDLFNBQVM7WUFDVFAsYUFBYVU7WUFDYm9CLFVBQVU7Z0JBQ1JSLFNBQVM7b0JBQ1BTLEtBQUtWO29CQUNMVyxTQUFTbkMsd0RBQU9BLENBQUN3QixZQUFZO2dCQUMvQjtnQkFDQUcsU0FBUztvQkFDUE8sS0FBS1I7b0JBQ0xTLFNBQVNuQyx3REFBT0EsQ0FBQzBCLFlBQVk7Z0JBQy9CO2dCQUNBRyxhQUFhO29CQUNYSyxLQUFLTjtvQkFDTFEsTUFBTXBDLHdEQUFPQSxDQUFDNEIsZ0JBQWdCO2dCQUNoQztnQkFDQVMsZUFBZTtvQkFDYkgsS0FBS0o7b0JBQ0xLLFNBQVNuQyx3REFBT0EsQ0FBQzhCLGtCQUFrQjtnQkFDckM7WUFDRjtZQUNBUixXQUFXO2dCQUNUZ0IsbUJBQW1CaEIsVUFBVWdCLGlCQUFpQjtnQkFDOUNDLGNBQWNqQixVQUFVaUIsWUFBWTtnQkFDcENDLGNBQWNsQixVQUFVa0IsWUFBWTtnQkFDcENDLHVCQUF1Qm5CLFVBQVVtQixxQkFBcUI7WUFDeEQ7WUFDQUMsV0FBV0MsS0FBS0MsR0FBRztRQUNyQixHQUNBO1lBQUVoQyxRQUFRO1FBQUk7SUFFbEIsRUFBRSxPQUFPRCxPQUFPO1FBQ2RKLFFBQVFJLEtBQUssQ0FBQyxrQ0FBa0NBO1FBQ2hELE9BQU9mLHFEQUFZQSxDQUFDYSxJQUFJLENBQ3RCO1lBQ0VDLFNBQVM7WUFDVEMsT0FBTztZQUNQa0MsU0FBU2xDLGlCQUFpQm1DLFFBQVFuQyxNQUFNb0MsT0FBTyxHQUFHO1FBQ3BELEdBQ0E7WUFBRW5DLFFBQVE7UUFBSTtJQUVsQjtBQUNGO0FBRUE7O0NBRUMsR0FDTSxlQUFlb0M7SUFDcEIsT0FBTyxJQUFJcEQscURBQVlBLENBQUMsTUFBTTtRQUM1QmdCLFFBQVE7UUFDUnFDLFNBQVM7WUFDUCwrQkFBK0I7WUFDL0IsZ0NBQWdDO1lBQ2hDLGdDQUFnQztRQUNsQztJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZ2FtZS1haS9zZXJ2ZXIvLi9hcHAvYXBpL2RpdmlkZW5kL2JhbGFuY2Uvcm91dGUudHM/NWQ5MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOafpeivoueUqOaIt+WIhue6ouaOpeWPo1xuICpcbiAqIOWKn+iDve+8mlxuICogMS4g5p+l6K+i55So5oi35Y+v5o+Q5Y+W55qE5YiG57qiXG4gKiAyLiDmn6Xor6LnlKjmiLflt7Lmj5Dlj5bnmoTliIbnuqJcbiAqIDMuIOafpeivoueUqOaIt+eahCAkR0FNRSDkvZnpop1cbiAqIDQuIOafpeivouWIhue6ouaxoOeahOaVtOS9k+e7n+iuoVxuICpcbiAqIOivt+axguaWueW8jzogR0VUIC9hcGkvZGl2aWRlbmQvYmFsYW5jZVxuICpcbiAqIOafpeivouWPguaVsDpcbiAqIC0gdXNlckFkZHJlc3M6IOeUqOaIt+mSseWMheWcsOWdgO+8iOW/hemcgO+8iVxuICpcbiAqIOWTjeW6lOagvOW8jzpcbiAqIHtcbiAqICAgXCJzdWNjZXNzXCI6IHRydWUsXG4gKiAgIFwidXNlckFkZHJlc3NcIjogXCIweC4uLlwiLFxuICogICBcImRpdmlkZW5kXCI6IHtcbiAqICAgICBcInBlbmRpbmdcIjoge1xuICogICAgICAgXCJ3ZWlcIjogXCI3MDAwMDAwMDAwMDAwMDAwMDAwXCIsXG4gKiAgICAgICBcInZpcnR1YWxcIjogXCI3XCJcbiAqICAgICB9LFxuICogICAgIFwiY2xhaW1lZFwiOiB7XG4gKiAgICAgICBcIndlaVwiOiBcIjMwMDAwMDAwMDAwMDAwMDAwMDBcIixcbiAqICAgICAgIFwidmlydHVhbFwiOiBcIjNcIlxuICogICAgIH0sXG4gKiAgICAgXCJnYW1lQmFsYW5jZVwiOiB7XG4gKiAgICAgICBcIndlaVwiOiBcIjEwMDAwMDAwMDAwMDAwMDAwMDAwMFwiLFxuICogICAgICAgXCJnYW1lXCI6IFwiMTAwXCJcbiAqICAgICB9LFxuICogICAgIFwidG90YWxFYXJuYWJsZVwiOiB7XG4gKiAgICAgICBcIndlaVwiOiBcIjEwMDAwMDAwMDAwMDAwMDAwMDAwXCIsXG4gKiAgICAgICBcInZpcnR1YWxcIjogXCIxMFwiXG4gKiAgICAgfVxuICogICB9LFxuICogICBcInBvb2xTdGF0c1wiOiB7XG4gKiAgICAgXCJ0b3RhbERpdmlkZW5kUG9vbFwiOiBcIjEwMDAwMDAwMDAwMDAwMDAwMDAwMDBcIixcbiAqICAgICBcInRvdGFsQ2xhaW1lZFwiOiBcIjMwMDAwMDAwMDAwMDAwMDAwMDAwMFwiLFxuICogICAgIFwidG90YWxQZW5kaW5nXCI6IFwiNzAwMDAwMDAwMDAwMDAwMDAwMDAwXCIsXG4gKiAgICAgXCJ0b3RhbERpdmlkZW5kUGVyU2hhcmVcIjogXCI1MDAwMDAwMDAwMDAwMDAwMFwiXG4gKiAgIH0sXG4gKiAgIFwidGltZXN0YW1wXCI6IDE3Mjk4NzYwMDAwMDBcbiAqIH1cbiAqL1xuXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBpc1ZhbGlkQWRkcmVzcywgbm9ybWFsaXplQWRkcmVzcyB9IGZyb20gJ0AvbGliL2FkZHJlc3MtdXRpbHMnXG5pbXBvcnQgeyBjcmVhdGVCbG9ja2NoYWluQ2xpZW50LCBmcm9tV2VpIH0gZnJvbSAnQC9saWIvYmxvY2tjaGFpbidcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIC8vIOS7juafpeivouWPguaVsOS4reiOt+WPliB1c2VyQWRkcmVzc1xuICAgIGNvbnN0IHVzZXJBZGRyZXNzID0gcmVxdWVzdC5uZXh0VXJsLnNlYXJjaFBhcmFtcy5nZXQoJ3VzZXJBZGRyZXNzJylcblxuICAgIGlmICghdXNlckFkZHJlc3MpIHtcbiAgICAgIGNvbnNvbGUud2FybignW0RpdmlkZW5kIEJhbGFuY2UgQVBJXSDnvLrlsJHlv4XpnIDlj4LmlbA6IHVzZXJBZGRyZXNzJylcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiAnTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXI6IHVzZXJBZGRyZXNzJyxcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8g6aqM6K+B5Zyw5Z2A5qC85byPXG4gICAgaWYgKCFpc1ZhbGlkQWRkcmVzcyh1c2VyQWRkcmVzcykpIHtcbiAgICAgIGNvbnNvbGUud2FybignW0RpdmlkZW5kIEJhbGFuY2UgQVBJXSDml6DmlYjnmoTpkrHljIXlnLDlnYA6JywgdXNlckFkZHJlc3MpXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogJ0ludmFsaWQgdXNlciBhZGRyZXNzIGZvcm1hdCcsXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0IG5vcm1hbGl6ZWRBZGRyZXNzID0gbm9ybWFsaXplQWRkcmVzcyh1c2VyQWRkcmVzcylcbiAgICBjb25zb2xlLmxvZygnW0RpdmlkZW5kIEJhbGFuY2UgQVBJXSDmn6Xor6LliIbnuqLkv6Hmga/vvIznlKjmiLflnLDlnYA6Jywgbm9ybWFsaXplZEFkZHJlc3MpXG5cbiAgICAvLyDojrflj5bliIbnuqLmsaDlnLDlnYBcbiAgICBjb25zdCBkaXZpZGVuZFBvb2xBZGRyZXNzID0gcHJvY2Vzcy5lbnYuR0FNRV9ESVZJREVORF9QT09MX0FERFJFU1NcbiAgICBpZiAoIWRpdmlkZW5kUG9vbEFkZHJlc3MpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tEaXZpZGVuZCBCYWxhbmNlIEFQSV0gR0FNRV9ESVZJREVORF9QT09MX0FERFJFU1Mg5pyq6YWN572uJylcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiAnRGl2aWRlbmQgcG9vbCBhZGRyZXNzIG5vdCBjb25maWd1cmVkJyxcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8g5Yib5bu65Yy65Z2X6ZO+5a6i5oi356uv5bm25p+l6K+i5pWw5o2uXG4gICAgY29uc3QgYmxvY2tjaGFpbiA9IGNyZWF0ZUJsb2NrY2hhaW5DbGllbnQoKVxuXG4gICAgLy8g5p+l6K+i55So5oi355qE5YiG57qi5L+h5oGvXG4gICAgY29uc29sZS5sb2coJ1tEaXZpZGVuZCBCYWxhbmNlIEFQSV0g5p+l6K+i55So5oi35YiG57qi5L+h5oGvLi4uJylcbiAgICBjb25zdCB1c2VyRGl2aWRlbmRJbmZvID0gYXdhaXQgYmxvY2tjaGFpbi5nZXRVc2VyRGl2aWRlbmRJbmZvKGRpdmlkZW5kUG9vbEFkZHJlc3MsIG5vcm1hbGl6ZWRBZGRyZXNzKVxuXG4gICAgLy8g5p+l6K+i5YiG57qi5rGg55qE57uf6K6h5pWw5o2uXG4gICAgY29uc29sZS5sb2coJ1tEaXZpZGVuZCBCYWxhbmNlIEFQSV0g5p+l6K+i5YiG57qi5rGg57uf6K6hLi4uJylcbiAgICBjb25zdCBwb29sU3RhdHMgPSBhd2FpdCBibG9ja2NoYWluLmdldERpdmlkZW5kUG9vbFN0YXRzKGRpdmlkZW5kUG9vbEFkZHJlc3MpXG5cbiAgICAvLyDmoLzlvI/ljJbov5Tlm57mlbDmja5cbiAgICBjb25zdCBwZW5kaW5nV2VpID0gdXNlckRpdmlkZW5kSW5mby5wZW5kaW5nXG4gICAgY29uc3QgY2xhaW1lZFdlaSA9IHVzZXJEaXZpZGVuZEluZm8uY2xhaW1lZFxuICAgIGNvbnN0IGdhbWVCYWxhbmNlV2VpID0gdXNlckRpdmlkZW5kSW5mby5nYW1lQmFsYW5jZVxuXG4gICAgY29uc3QgdG90YWxFYXJuYWJsZVdlaSA9IChCaWdJbnQocGVuZGluZ1dlaSkgKyBCaWdJbnQoY2xhaW1lZFdlaSkpLnRvU3RyaW5nKClcblxuICAgIGNvbnNvbGUubG9nKCdbRGl2aWRlbmQgQmFsYW5jZSBBUEldIOaVsOaNruagvOW8j+WMluWujOaIkCcpXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHVzZXJBZGRyZXNzOiBub3JtYWxpemVkQWRkcmVzcyxcbiAgICAgICAgZGl2aWRlbmQ6IHtcbiAgICAgICAgICBwZW5kaW5nOiB7XG4gICAgICAgICAgICB3ZWk6IHBlbmRpbmdXZWksXG4gICAgICAgICAgICB2aXJ0dWFsOiBmcm9tV2VpKHBlbmRpbmdXZWksIDE4KSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNsYWltZWQ6IHtcbiAgICAgICAgICAgIHdlaTogY2xhaW1lZFdlaSxcbiAgICAgICAgICAgIHZpcnR1YWw6IGZyb21XZWkoY2xhaW1lZFdlaSwgMTgpLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2FtZUJhbGFuY2U6IHtcbiAgICAgICAgICAgIHdlaTogZ2FtZUJhbGFuY2VXZWksXG4gICAgICAgICAgICBnYW1lOiBmcm9tV2VpKGdhbWVCYWxhbmNlV2VpLCAxOCksXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0b3RhbEVhcm5hYmxlOiB7XG4gICAgICAgICAgICB3ZWk6IHRvdGFsRWFybmFibGVXZWksXG4gICAgICAgICAgICB2aXJ0dWFsOiBmcm9tV2VpKHRvdGFsRWFybmFibGVXZWksIDE4KSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBwb29sU3RhdHM6IHtcbiAgICAgICAgICB0b3RhbERpdmlkZW5kUG9vbDogcG9vbFN0YXRzLnRvdGFsRGl2aWRlbmRQb29sLFxuICAgICAgICAgIHRvdGFsQ2xhaW1lZDogcG9vbFN0YXRzLnRvdGFsQ2xhaW1lZCxcbiAgICAgICAgICB0b3RhbFBlbmRpbmc6IHBvb2xTdGF0cy50b3RhbFBlbmRpbmcsXG4gICAgICAgICAgdG90YWxEaXZpZGVuZFBlclNoYXJlOiBwb29sU3RhdHMudG90YWxEaXZpZGVuZFBlclNoYXJlLFxuICAgICAgICB9LFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDIwMCB9XG4gICAgKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tEaXZpZGVuZCBCYWxhbmNlIEFQSV0g5aSE55CG6K+35rGC5aSx6LSlOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIHF1ZXJ5IGRpdmlkZW5kIGJhbGFuY2UnLFxuICAgICAgICBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApXG4gIH1cbn1cblxuLyoqXG4gKiDlpITnkIYgT1BUSU9OUyDor7fmsYLvvIjnlKjkuo4gQ09SUyDpooTmo4DvvIlcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIE9QVElPTlMoKSB7XG4gIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKG51bGwsIHtcbiAgICBzdGF0dXM6IDIwMCxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJzogJyonLFxuICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnOiAnR0VULCBPUFRJT05TJyxcbiAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJzogJ0NvbnRlbnQtVHlwZSwgQXV0aG9yaXphdGlvbicsXG4gICAgfSxcbiAgfSlcbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJpc1ZhbGlkQWRkcmVzcyIsIm5vcm1hbGl6ZUFkZHJlc3MiLCJjcmVhdGVCbG9ja2NoYWluQ2xpZW50IiwiZnJvbVdlaSIsIkdFVCIsInJlcXVlc3QiLCJ1c2VyQWRkcmVzcyIsIm5leHRVcmwiLCJzZWFyY2hQYXJhbXMiLCJnZXQiLCJjb25zb2xlIiwid2FybiIsImpzb24iLCJzdWNjZXNzIiwiZXJyb3IiLCJzdGF0dXMiLCJub3JtYWxpemVkQWRkcmVzcyIsImxvZyIsImRpdmlkZW5kUG9vbEFkZHJlc3MiLCJwcm9jZXNzIiwiZW52IiwiR0FNRV9ESVZJREVORF9QT09MX0FERFJFU1MiLCJibG9ja2NoYWluIiwidXNlckRpdmlkZW5kSW5mbyIsImdldFVzZXJEaXZpZGVuZEluZm8iLCJwb29sU3RhdHMiLCJnZXREaXZpZGVuZFBvb2xTdGF0cyIsInBlbmRpbmdXZWkiLCJwZW5kaW5nIiwiY2xhaW1lZFdlaSIsImNsYWltZWQiLCJnYW1lQmFsYW5jZVdlaSIsImdhbWVCYWxhbmNlIiwidG90YWxFYXJuYWJsZVdlaSIsIkJpZ0ludCIsInRvU3RyaW5nIiwiZGl2aWRlbmQiLCJ3ZWkiLCJ2aXJ0dWFsIiwiZ2FtZSIsInRvdGFsRWFybmFibGUiLCJ0b3RhbERpdmlkZW5kUG9vbCIsInRvdGFsQ2xhaW1lZCIsInRvdGFsUGVuZGluZyIsInRvdGFsRGl2aWRlbmRQZXJTaGFyZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJkZXRhaWxzIiwiRXJyb3IiLCJtZXNzYWdlIiwiT1BUSU9OUyIsImhlYWRlcnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/dividend/balance/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/address-utils.ts":
/*!******************************!*\
  !*** ./lib/address-utils.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isValidAddress: () => (/* binding */ isValidAddress),\n/* harmony export */   isValidTransactionHash: () => (/* binding */ isValidTransactionHash),\n/* harmony export */   normalizeAddress: () => (/* binding */ normalizeAddress)\n/* harmony export */ });\n/**\n * 地址验证和规范化工具\n * 独立于 ethers，避免 Next.js 兼容性问题\n */ /**\n * 验证是否为有效的以太坊地址\n * @param address 地址字符串\n * @returns 是否有效\n */ function isValidAddress(address) {\n    return /^0x[a-fA-F0-9]{40}$/.test(address);\n}\n/**\n * 规范化地址为小写格式\n * @param address 地址字符串\n * @returns 规范化后的地址\n */ function normalizeAddress(address) {\n    if (!isValidAddress(address)) {\n        throw new Error(\"Invalid address format\");\n    }\n    return address.toLowerCase();\n}\n/**\n * 验证交易哈希格式\n * @param hash 交易哈希\n * @returns 是否有效\n */ function isValidTransactionHash(hash) {\n    return /^0x[a-fA-F0-9]{64}$/.test(hash);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYWRkcmVzcy11dGlscy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7O0NBR0MsR0FFRDs7OztDQUlDLEdBQ00sU0FBU0EsZUFBZUMsT0FBZTtJQUM1QyxPQUFPLHNCQUFzQkMsSUFBSSxDQUFDRDtBQUNwQztBQUVBOzs7O0NBSUMsR0FDTSxTQUFTRSxpQkFBaUJGLE9BQWU7SUFDOUMsSUFBSSxDQUFDRCxlQUFlQyxVQUFVO1FBQzVCLE1BQU0sSUFBSUcsTUFBTTtJQUNsQjtJQUNBLE9BQU9ILFFBQVFJLFdBQVc7QUFDNUI7QUFFQTs7OztDQUlDLEdBQ00sU0FBU0MsdUJBQXVCQyxJQUFZO0lBQ2pELE9BQU8sc0JBQXNCTCxJQUFJLENBQUNLO0FBQ3BDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGdhbWUtYWkvc2VydmVyLy4vbGliL2FkZHJlc3MtdXRpbHMudHM/NjNmMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOWcsOWdgOmqjOivgeWSjOinhOiMg+WMluW3peWFt1xuICog54us56uL5LqOIGV0aGVyc++8jOmBv+WFjSBOZXh0LmpzIOWFvOWuueaAp+mXrumimFxuICovXG5cbi8qKlxuICog6aqM6K+B5piv5ZCm5Li65pyJ5pWI55qE5Lul5aSq5Z2K5Zyw5Z2AXG4gKiBAcGFyYW0gYWRkcmVzcyDlnLDlnYDlrZfnrKbkuLJcbiAqIEByZXR1cm5zIOaYr+WQpuacieaViFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZEFkZHJlc3MoYWRkcmVzczogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiAvXjB4W2EtZkEtRjAtOV17NDB9JC8udGVzdChhZGRyZXNzKVxufVxuXG4vKipcbiAqIOinhOiMg+WMluWcsOWdgOS4uuWwj+WGmeagvOW8j1xuICogQHBhcmFtIGFkZHJlc3Mg5Zyw5Z2A5a2X56ym5LiyXG4gKiBAcmV0dXJucyDop4TojIPljJblkI7nmoTlnLDlnYBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUFkZHJlc3MoYWRkcmVzczogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKCFpc1ZhbGlkQWRkcmVzcyhhZGRyZXNzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhZGRyZXNzIGZvcm1hdCcpXG4gIH1cbiAgcmV0dXJuIGFkZHJlc3MudG9Mb3dlckNhc2UoKVxufVxuXG4vKipcbiAqIOmqjOivgeS6pOaYk+WTiOW4jOagvOW8j1xuICogQHBhcmFtIGhhc2gg5Lqk5piT5ZOI5biMXG4gKiBAcmV0dXJucyDmmK/lkKbmnInmlYhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRUcmFuc2FjdGlvbkhhc2goaGFzaDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiAvXjB4W2EtZkEtRjAtOV17NjR9JC8udGVzdChoYXNoKVxufVxuIl0sIm5hbWVzIjpbImlzVmFsaWRBZGRyZXNzIiwiYWRkcmVzcyIsInRlc3QiLCJub3JtYWxpemVBZGRyZXNzIiwiRXJyb3IiLCJ0b0xvd2VyQ2FzZSIsImlzVmFsaWRUcmFuc2FjdGlvbkhhc2giLCJoYXNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/address-utils.ts\n");

/***/ }),

/***/ "(rsc)/./lib/blockchain.ts":
/*!***************************!*\
  !*** ./lib/blockchain.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BlockchainClient: () => (/* binding */ BlockchainClient),\n/* harmony export */   createBlockchainClient: () => (/* binding */ createBlockchainClient),\n/* harmony export */   fromWei: () => (/* binding */ fromWei),\n/* harmony export */   toWei: () => (/* binding */ toWei)\n/* harmony export */ });\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ethers */ \"(rsc)/./node_modules/@ethersproject/providers/lib.esm/json-rpc-provider.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ethers */ \"(rsc)/./node_modules/@ethersproject/wallet/lib.esm/index.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ethers */ \"(rsc)/./node_modules/@ethersproject/address/lib.esm/index.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ethers */ \"(rsc)/./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ethers */ \"(rsc)/./node_modules/@ethersproject/units/lib.esm/index.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ethers */ \"(rsc)/./node_modules/@ethersproject/abi/lib.esm/interface.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ethers */ \"(rsc)/./node_modules/@ethersproject/contracts/lib.esm/index.js\");\n/**\n * 区块链交互模块\n * 用于与智能合约交互，进行代币转账等操作\n */ \n/**\n * IERC20 标准接口 ABI\n */ const ERC20_ABI = [\n    \"function transfer(address to, uint256 amount) public returns (bool)\",\n    \"function balanceOf(address account) public view returns (uint256)\",\n    \"function approve(address spender, uint256 amount) public returns (bool)\",\n    \"function allowance(address owner, address spender) public view returns (uint256)\"\n];\n/**\n * GameDividendPool 合约 ABI（只需要调用的方法）\n */ const DIVIDEND_POOL_ABI = [\n    \"function depositDividend(uint256 amount) external\",\n    \"function claimDividend() external nonReentrant returns (uint256 claimable)\",\n    \"function getPendingDividend(address user) external view returns (uint256)\",\n    \"function getUserDividendInfo(address user) external view returns (uint256 pending, uint256 claimed, uint256 gameBalance)\",\n    \"function getPoolStats() external view returns (uint256 _totalDividendPool, uint256 _totalClaimed, uint256 _totalPending, uint256 _totalDividendPerShare)\"\n];\n/**\n * 区块链客户端类\n */ class BlockchainClient {\n    provider;\n    signer;\n    rpcUrl;\n    privateKey;\n    constructor(config){\n        this.rpcUrl = config.rpcUrl;\n        this.privateKey = config.privateKey;\n        this.provider = new ethers__WEBPACK_IMPORTED_MODULE_0__.JsonRpcProvider(config.rpcUrl);\n        this.signer = new ethers__WEBPACK_IMPORTED_MODULE_1__.Wallet(config.privateKey, this.provider);\n    // 注意：chainId 目前未使用，可在未来需要时启用\n    }\n    /**\n   * 执行原始 JSON-RPC 调用\n   */ async callJsonRpc(method, params) {\n        const response = await fetch(this.rpcUrl, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                jsonrpc: \"2.0\",\n                id: Date.now(),\n                method,\n                params\n            })\n        });\n        const data = await response.json();\n        if (data.error) {\n            throw new Error(`JSON-RPC Error: ${data.error.message}`);\n        }\n        return data.result;\n    }\n    /**\n   * 转账 ERC20 代币\n   * @param tokenAddress 代币合约地址\n   * @param toAddress 接收地址\n   * @param amount 转账数量（单位：Wei）\n   * @returns 交易哈希\n   */ async transferERC20(tokenAddress, toAddress, amount) {\n        try {\n            console.log(\"[Blockchain] 准备转账 ERC20 代币\");\n            console.log(\"[Blockchain] 代币地址:\", tokenAddress);\n            console.log(\"[Blockchain] 接收地址:\", toAddress);\n            console.log(\"[Blockchain] 转账数量:\", amount);\n            // 验证地址格式\n            if (!ethers__WEBPACK_IMPORTED_MODULE_2__.isAddress(tokenAddress)) {\n                throw new Error(\"Invalid token address format\");\n            }\n            if (!ethers__WEBPACK_IMPORTED_MODULE_2__.isAddress(toAddress)) {\n                throw new Error(\"Invalid recipient address format\");\n            }\n            // 使用底层JSON-RPC调用而不是ethers.js Contract接口\n            // 以避免网络检测的问题\n            console.log(\"[Blockchain] 使用 JSON-RPC 构建转账交易...\");\n            // 创建钱包用于签名\n            const wallet = new ethers__WEBPACK_IMPORTED_MODULE_1__.Wallet(this.privateKey);\n            // 使用直接的 JSON-RPC 调用而不是通过 provider 接口\n            // 这样可以避免 ethers.js 的网络检测问题\n            console.log(\"[Blockchain] 通过原始 JSON-RPC 获取交易数据...\");\n            let nonce;\n            let gasPriceWei;\n            try {\n                // 直接调用 JSON-RPC\n                const nonceHex = await this.callJsonRpc(\"eth_getTransactionCount\", [\n                    wallet.address,\n                    \"latest\"\n                ]);\n                nonce = parseInt(nonceHex, 16);\n                console.log(\"[Blockchain] 获取 Nonce:\", nonce);\n            } catch (error) {\n                console.warn(\"[Blockchain] 无法获取 Nonce，使用默认值 0\");\n                nonce = 0;\n            }\n            try {\n                const gasPriceHex = await this.callJsonRpc(\"eth_gasPrice\", []);\n                gasPriceWei = ethers__WEBPACK_IMPORTED_MODULE_3__.BigNumber.from(gasPriceHex);\n                console.log(\"[Blockchain] 获取 Gas Price:\", ethers__WEBPACK_IMPORTED_MODULE_4__.formatUnits(gasPriceWei, \"gwei\"), \"gwei\");\n            } catch (error) {\n                console.warn(\"[Blockchain] 无法获取 Gas Price，使用默认值 1 gwei\");\n                gasPriceWei = ethers__WEBPACK_IMPORTED_MODULE_4__.parseUnits(\"1\", \"gwei\");\n            }\n            const gasLimit = ethers__WEBPACK_IMPORTED_MODULE_3__.BigNumber.from(\"100000\");\n            console.log(\"[Blockchain] 交易参数:\");\n            console.log(\"  • Nonce:\", nonce);\n            console.log(\"  • Gas Price:\", ethers__WEBPACK_IMPORTED_MODULE_4__.formatUnits(gasPriceWei, \"gwei\"), \"gwei\");\n            console.log(\"  • Gas Limit:\", gasLimit.toString());\n            // 构建 transfer() 函数调用数据\n            const iface = new ethers__WEBPACK_IMPORTED_MODULE_5__.Interface(ERC20_ABI);\n            const data = iface.encodeFunctionData(\"transfer\", [\n                toAddress,\n                amount\n            ]);\n            // 构建交易对象\n            const tx = {\n                to: tokenAddress,\n                from: wallet.address,\n                nonce: nonce,\n                gasLimit: gasLimit,\n                gasPrice: gasPriceWei,\n                data: data\n            };\n            console.log(\"[Blockchain] 签名交易...\");\n            // 签名交易\n            const signedTx = await wallet.signTransaction(tx);\n            console.log(\"[Blockchain] 发送签名的交易到网络...\");\n            // 直接通过 JSON-RPC 发送原始交易，避免 provider 的网络检测\n            const txHash = await this.callJsonRpc(\"eth_sendRawTransaction\", [\n                signedTx\n            ]);\n            console.log(\"[Blockchain] 交易已发送，Hash:\", txHash);\n            console.log(\"[Blockchain] 等待交易确认...\");\n            // 等待交易确认（最多等待 60 秒）\n            const maxAttempts = 30;\n            let receipt = null;\n            for(let i = 0; i < maxAttempts; i++){\n                try {\n                    const receiptData = await this.callJsonRpc(\"eth_getTransactionReceipt\", [\n                        txHash\n                    ]);\n                    if (receiptData) {\n                        receipt = receiptData;\n                        console.log(\"[Blockchain] 交易已确认，区块号:\", parseInt(receiptData.blockNumber, 16));\n                        break;\n                    }\n                } catch (error) {\n                    console.warn(\"[Blockchain] 等待确认中...\", i + 1);\n                }\n                // 等待 2 秒后重试\n                await new Promise((resolve)=>setTimeout(resolve, 2000));\n            }\n            return {\n                transactionHash: txHash,\n                blockNumber: receipt ? parseInt(receipt.blockNumber, 16) : undefined\n            };\n        } catch (error) {\n            const errorMsg = error.message;\n            console.error(\"[Blockchain] 转账失败:\", errorMsg);\n            throw error;\n        }\n    }\n    /**\n   * 检查 ERC20 代币余额\n   * @param tokenAddress 代币合约地址\n   * @param address 账户地址\n   * @returns 余额（单位：Wei）\n   */ async getERC20Balance(tokenAddress, address) {\n        try {\n            const tokenContract = new ethers__WEBPACK_IMPORTED_MODULE_6__.Contract(tokenAddress, ERC20_ABI, this.provider);\n            const balance = await tokenContract.balanceOf(address);\n            return balance.toString();\n        } catch (error) {\n            console.error(\"[Blockchain] 查询余额失败:\", error);\n            throw error;\n        }\n    }\n    /**\n   * 获取 Deployer 地址\n   */ async getSignerAddress() {\n        return await this.signer.getAddress();\n    }\n    /**\n   * 获取网络信息\n   */ async getNetworkInfo() {\n        const network = await this.provider.getNetwork();\n        return {\n            chainId: network.chainId,\n            name: network.name\n        };\n    }\n    /**\n   * 调用 GameDividendPool 的 depositDividend 方法，更新分红\n   * @param dividendPoolAddress 分红池合约地址\n   * @param amount VIRTUAL 代币金额（Wei 单位）\n   * @returns 交易哈希\n   */ async updateGameDividendPool(dividendPoolAddress, amount) {\n        try {\n            console.log(\"[Blockchain] 准备调用 GameDividendPool.depositDividend()\");\n            console.log(\"[Blockchain] 分红池地址:\", dividendPoolAddress);\n            console.log(\"[Blockchain] 分红金额:\", amount);\n            // 验证地址格式\n            if (!ethers__WEBPACK_IMPORTED_MODULE_2__.isAddress(dividendPoolAddress)) {\n                throw new Error(\"Invalid dividend pool address format\");\n            }\n            // 创建钱包用于签名\n            const wallet = new ethers__WEBPACK_IMPORTED_MODULE_1__.Wallet(this.privateKey);\n            let nonce;\n            let gasPriceWei;\n            try {\n                const nonceHex = await this.callJsonRpc(\"eth_getTransactionCount\", [\n                    wallet.address,\n                    \"latest\"\n                ]);\n                nonce = parseInt(nonceHex, 16);\n                console.log(\"[Blockchain] 获取 Nonce:\", nonce);\n            } catch (error) {\n                console.warn(\"[Blockchain] 无法获取 Nonce，使用默认值 0\");\n                nonce = 0;\n            }\n            try {\n                const gasPriceHex = await this.callJsonRpc(\"eth_gasPrice\", []);\n                gasPriceWei = ethers__WEBPACK_IMPORTED_MODULE_3__.BigNumber.from(gasPriceHex);\n                console.log(\"[Blockchain] 获取 Gas Price:\", ethers__WEBPACK_IMPORTED_MODULE_4__.formatUnits(gasPriceWei, \"gwei\"), \"gwei\");\n            } catch (error) {\n                console.warn(\"[Blockchain] 无法获取 Gas Price，使用默认值 1 gwei\");\n                gasPriceWei = ethers__WEBPACK_IMPORTED_MODULE_4__.parseUnits(\"1\", \"gwei\");\n            }\n            const gasLimit = ethers__WEBPACK_IMPORTED_MODULE_3__.BigNumber.from(\"150000\") // depositDividend 需要更多 gas\n            ;\n            console.log(\"[Blockchain] 交易参数:\");\n            console.log(\"  • Nonce:\", nonce);\n            console.log(\"  • Gas Price:\", ethers__WEBPACK_IMPORTED_MODULE_4__.formatUnits(gasPriceWei, \"gwei\"), \"gwei\");\n            console.log(\"  • Gas Limit:\", gasLimit.toString());\n            // 需要先调用 VIRTUAL 代币的 approve，授权 dividendPool 使用我们的代币\n            console.log(\"[Blockchain] 构建 approve 交易...\");\n            const virtualTokenAddress = process.env.VIRTUAL_TOKEN_ADDRESS;\n            if (!virtualTokenAddress) {\n                throw new Error(\"VIRTUAL_TOKEN_ADDRESS environment variable is not set\");\n            }\n            // 构建 approve 交易数据\n            const iface = new ethers__WEBPACK_IMPORTED_MODULE_5__.Interface(ERC20_ABI);\n            const approveData = iface.encodeFunctionData(\"approve\", [\n                dividendPoolAddress,\n                amount\n            ]);\n            const approveTx = {\n                to: virtualTokenAddress,\n                from: wallet.address,\n                nonce: nonce,\n                gasLimit: ethers__WEBPACK_IMPORTED_MODULE_3__.BigNumber.from(\"100000\"),\n                gasPrice: gasPriceWei,\n                data: approveData\n            };\n            console.log(\"[Blockchain] 签名 approve 交易...\");\n            const signedApproveTx = await wallet.signTransaction(approveTx);\n            console.log(\"[Blockchain] 发送 approve 交易...\");\n            const approveTxHash = await this.callJsonRpc(\"eth_sendRawTransaction\", [\n                signedApproveTx\n            ]);\n            console.log(\"[Blockchain] Approve 交易已发送，Hash:\", approveTxHash);\n            // 等待 approve 交易确认\n            console.log(\"[Blockchain] 等待 approve 交易确认...\");\n            for(let i = 0; i < 30; i++){\n                try {\n                    const receiptData = await this.callJsonRpc(\"eth_getTransactionReceipt\", [\n                        approveTxHash\n                    ]);\n                    if (receiptData) {\n                        console.log(\"[Blockchain] Approve 交易已确认\");\n                        break;\n                    }\n                } catch (error) {\n                    console.warn(\"[Blockchain] 等待 approve 确认中...\", i + 1);\n                }\n                await new Promise((resolve)=>setTimeout(resolve, 2000));\n            }\n            // 现在构建 depositDividend 交易\n            console.log(\"[Blockchain] 构建 depositDividend 交易...\");\n            const depositIface = new ethers__WEBPACK_IMPORTED_MODULE_5__.Interface(DIVIDEND_POOL_ABI);\n            const depositData = depositIface.encodeFunctionData(\"depositDividend\", [\n                amount\n            ]);\n            const depositTx = {\n                to: dividendPoolAddress,\n                from: wallet.address,\n                nonce: nonce + 1,\n                gasLimit: ethers__WEBPACK_IMPORTED_MODULE_3__.BigNumber.from(\"150000\"),\n                gasPrice: gasPriceWei,\n                data: depositData\n            };\n            console.log(\"[Blockchain] 签名 depositDividend 交易...\");\n            const signedDepositTx = await wallet.signTransaction(depositTx);\n            console.log(\"[Blockchain] 发送 depositDividend 交易...\");\n            const depositTxHash = await this.callJsonRpc(\"eth_sendRawTransaction\", [\n                signedDepositTx\n            ]);\n            console.log(\"[Blockchain] Deposit 交易已发送，Hash:\", depositTxHash);\n            // 等待 deposit 交易确认\n            console.log(\"[Blockchain] 等待 depositDividend 交易确认...\");\n            let receipt = null;\n            for(let i = 0; i < 30; i++){\n                try {\n                    const receiptData = await this.callJsonRpc(\"eth_getTransactionReceipt\", [\n                        depositTxHash\n                    ]);\n                    if (receiptData) {\n                        receipt = receiptData;\n                        console.log(\"[Blockchain] Deposit 交易已确认，区块号:\", parseInt(receiptData.blockNumber, 16));\n                        break;\n                    }\n                } catch (error) {\n                    console.warn(\"[Blockchain] 等待 deposit 确认中...\", i + 1);\n                }\n                await new Promise((resolve)=>setTimeout(resolve, 2000));\n            }\n            return {\n                transactionHash: depositTxHash,\n                blockNumber: receipt ? parseInt(receipt.blockNumber, 16) : undefined\n            };\n        } catch (error) {\n            const errorMsg = error.message;\n            console.error(\"[Blockchain] 分红更新失败:\", errorMsg);\n            throw error;\n        }\n    }\n    /**\n   * 查询用户的分红信息\n   * @param dividendPoolAddress 分红池合约地址\n   * @param userAddress 用户地址\n   * @returns 用户分红信息\n   */ async getUserDividendInfo(dividendPoolAddress, userAddress) {\n        try {\n            console.log(\"[Blockchain] 查询用户分红信息\");\n            console.log(\"[Blockchain] 分红池地址:\", dividendPoolAddress);\n            console.log(\"[Blockchain] 用户地址:\", userAddress);\n            // 验证地址格式\n            if (!ethers__WEBPACK_IMPORTED_MODULE_2__.isAddress(dividendPoolAddress)) {\n                throw new Error(\"Invalid dividend pool address format\");\n            }\n            if (!ethers__WEBPACK_IMPORTED_MODULE_2__.isAddress(userAddress)) {\n                throw new Error(\"Invalid user address format\");\n            }\n            // 创建合约实例并调用 view 函数\n            const contract = new ethers__WEBPACK_IMPORTED_MODULE_6__.Contract(dividendPoolAddress, DIVIDEND_POOL_ABI, this.provider);\n            const result = await contract.getUserDividendInfo(userAddress);\n            console.log(\"[Blockchain] 用户分红信息查询成功\");\n            console.log(\"[Blockchain] 待提取分红:\", result.pending.toString());\n            console.log(\"[Blockchain] 已提取分红:\", result.claimed.toString());\n            console.log(\"[Blockchain] GAME 余额:\", result.gameBalance.toString());\n            return {\n                pending: result.pending.toString(),\n                claimed: result.claimed.toString(),\n                gameBalance: result.gameBalance.toString()\n            };\n        } catch (error) {\n            const errorMsg = error.message;\n            console.error(\"[Blockchain] 查询分红信息失败:\", errorMsg);\n            throw error;\n        }\n    }\n    /**\n   * 查询分红池的统计数据\n   * @param dividendPoolAddress 分红池合约地址\n   * @returns 分红池统计信息\n   */ async getDividendPoolStats(dividendPoolAddress) {\n        try {\n            console.log(\"[Blockchain] 查询分红池统计信息\");\n            // 验证地址格式\n            if (!ethers__WEBPACK_IMPORTED_MODULE_2__.isAddress(dividendPoolAddress)) {\n                throw new Error(\"Invalid dividend pool address format\");\n            }\n            const contract = new ethers__WEBPACK_IMPORTED_MODULE_6__.Contract(dividendPoolAddress, DIVIDEND_POOL_ABI, this.provider);\n            const result = await contract.getPoolStats();\n            console.log(\"[Blockchain] 分红池统计信息查询成功\");\n            return {\n                totalDividendPool: result._totalDividendPool.toString(),\n                totalClaimed: result._totalClaimed.toString(),\n                totalPending: result._totalPending.toString(),\n                totalDividendPerShare: result._totalDividendPerShare.toString()\n            };\n        } catch (error) {\n            const errorMsg = error.message;\n            console.error(\"[Blockchain] 查询分红池统计失败:\", errorMsg);\n            throw error;\n        }\n    }\n}\n/**\n * 创建区块链客户端实例\n */ function createBlockchainClient() {\n    const rpcUrl = process.env.BASE_SEPOLIA_RPC_URL;\n    const privateKey = process.env.DEPLOYER_PRIVATE_KEY;\n    const chainId = parseInt(process.env.CHAIN_ID || \"84532\");\n    if (!rpcUrl) {\n        throw new Error(\"BASE_SEPOLIA_RPC_URL environment variable is not set\");\n    }\n    if (!privateKey) {\n        throw new Error(\"DEPLOYER_PRIVATE_KEY environment variable is not set\");\n    }\n    return new BlockchainClient({\n        rpcUrl,\n        privateKey,\n        chainId\n    });\n}\n/**\n * 将字符串数字转换为 Wei（ERC20 标准通常是 18 位小数）\n * @param amount 数字（如 \"1\"）\n * @param decimals 小数位数（默认 18）\n * @returns Wei 格式的字符串\n */ function toWei(amount, decimals = 18) {\n    return ethers__WEBPACK_IMPORTED_MODULE_4__.parseUnits(amount, decimals).toString();\n}\n/**\n * 将 Wei 转换为字符串数字\n * @param wei Wei 格式的字符串\n * @param decimals 小数位数（默认 18）\n * @returns 普通数字字符串\n */ function fromWei(wei, decimals = 18) {\n    return ethers__WEBPACK_IMPORTED_MODULE_4__.formatUnits(wei, decimals);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVNtRixRQUFRQyxHQUFHLENBQUM0QixvQkFBb0I7SUFDL0MsTUFBTS9HLGFBQWFrRixRQUFRQyxHQUFHLENBQUM2QixvQkFBb0I7SUFDbkQsTUFBTW5DLFVBQVV2QyxTQUFTNEMsUUFBUUMsR0FBRyxDQUFDOEIsUUFBUSxJQUFJO0lBRWpELElBQUksQ0FBQ2xILFFBQVE7UUFDWCxNQUFNLElBQUl1QixNQUFNO0lBQ2xCO0lBRUEsSUFBSSxDQUFDdEIsWUFBWTtRQUNmLE1BQU0sSUFBSXNCLE1BQU07SUFDbEI7SUFFQSxPQUFPLElBQUkxQixpQkFBaUI7UUFDMUJHO1FBQ0FDO1FBQ0E2RTtJQUNGO0FBQ0Y7QUFFQTs7Ozs7Q0FLQyxHQUNNLFNBQVNxQyxNQUFNdEYsTUFBYyxFQUFFdUYsV0FBbUIsRUFBRTtJQUN6RCxPQUFPMUgsOENBQXVCLENBQUNtQyxRQUFRdUYsVUFBVXJFLFFBQVE7QUFDM0Q7QUFFQTs7Ozs7Q0FLQyxHQUNNLFNBQVNzRSxRQUFRQyxHQUFXLEVBQUVGLFdBQW1CLEVBQUU7SUFDeEQsT0FBTzFILCtDQUF3QixDQUFDNEgsS0FBS0Y7QUFDdkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZ2FtZS1haS9zZXJ2ZXIvLi9saWIvYmxvY2tjaGFpbi50cz8wZmExIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog5Yy65Z2X6ZO+5Lqk5LqS5qih5Z2XXG4gKiDnlKjkuo7kuI7mmbrog73lkIjnuqbkuqTkupLvvIzov5vooYzku6PluIHovazotKbnrYnmk43kvZxcbiAqL1xuXG5pbXBvcnQgeyBldGhlcnMgfSBmcm9tICdldGhlcnMnXG5cbi8qKlxuICogSUVSQzIwIOagh+WHhuaOpeWPoyBBQklcbiAqL1xuY29uc3QgRVJDMjBfQUJJID0gW1xuICAnZnVuY3Rpb24gdHJhbnNmZXIoYWRkcmVzcyB0bywgdWludDI1NiBhbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sKScsXG4gICdmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcyBhY2NvdW50KSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KScsXG4gICdmdW5jdGlvbiBhcHByb3ZlKGFkZHJlc3Mgc3BlbmRlciwgdWludDI1NiBhbW91bnQpIHB1YmxpYyByZXR1cm5zIChib29sKScsXG4gICdmdW5jdGlvbiBhbGxvd2FuY2UoYWRkcmVzcyBvd25lciwgYWRkcmVzcyBzcGVuZGVyKSBwdWJsaWMgdmlldyByZXR1cm5zICh1aW50MjU2KScsXG5dXG5cbi8qKlxuICogR2FtZURpdmlkZW5kUG9vbCDlkIjnuqYgQUJJ77yI5Y+q6ZyA6KaB6LCD55So55qE5pa55rOV77yJXG4gKi9cbmNvbnN0IERJVklERU5EX1BPT0xfQUJJID0gW1xuICAnZnVuY3Rpb24gZGVwb3NpdERpdmlkZW5kKHVpbnQyNTYgYW1vdW50KSBleHRlcm5hbCcsXG4gICdmdW5jdGlvbiBjbGFpbURpdmlkZW5kKCkgZXh0ZXJuYWwgbm9uUmVlbnRyYW50IHJldHVybnMgKHVpbnQyNTYgY2xhaW1hYmxlKScsXG4gICdmdW5jdGlvbiBnZXRQZW5kaW5nRGl2aWRlbmQoYWRkcmVzcyB1c2VyKSBleHRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQyNTYpJyxcbiAgJ2Z1bmN0aW9uIGdldFVzZXJEaXZpZGVuZEluZm8oYWRkcmVzcyB1c2VyKSBleHRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQyNTYgcGVuZGluZywgdWludDI1NiBjbGFpbWVkLCB1aW50MjU2IGdhbWVCYWxhbmNlKScsXG4gICdmdW5jdGlvbiBnZXRQb29sU3RhdHMoKSBleHRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQyNTYgX3RvdGFsRGl2aWRlbmRQb29sLCB1aW50MjU2IF90b3RhbENsYWltZWQsIHVpbnQyNTYgX3RvdGFsUGVuZGluZywgdWludDI1NiBfdG90YWxEaXZpZGVuZFBlclNoYXJlKScsXG5dXG5cbi8qKlxuICog5Yy65Z2X6ZO+5a6i5oi356uv6YWN572uXG4gKi9cbmludGVyZmFjZSBCbG9ja2NoYWluQ29uZmlnIHtcbiAgcnBjVXJsOiBzdHJpbmdcbiAgcHJpdmF0ZUtleTogc3RyaW5nXG4gIGNoYWluSWQ6IG51bWJlclxufVxuXG4vKipcbiAqIOWMuuWdl+mTvuWuouaIt+err+exu1xuICovXG5leHBvcnQgY2xhc3MgQmxvY2tjaGFpbkNsaWVudCB7XG4gIHByaXZhdGUgcHJvdmlkZXI6IGV0aGVycy5wcm92aWRlcnMuSnNvblJwY1Byb3ZpZGVyXG4gIHByaXZhdGUgc2lnbmVyOiBldGhlcnMuU2lnbmVyXG4gIHByaXZhdGUgcnBjVXJsOiBzdHJpbmdcbiAgcHJpdmF0ZSBwcml2YXRlS2V5OiBzdHJpbmdcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IEJsb2NrY2hhaW5Db25maWcpIHtcbiAgICB0aGlzLnJwY1VybCA9IGNvbmZpZy5ycGNVcmxcbiAgICB0aGlzLnByaXZhdGVLZXkgPSBjb25maWcucHJpdmF0ZUtleVxuICAgIHRoaXMucHJvdmlkZXIgPSBuZXcgZXRoZXJzLnByb3ZpZGVycy5Kc29uUnBjUHJvdmlkZXIoY29uZmlnLnJwY1VybClcbiAgICB0aGlzLnNpZ25lciA9IG5ldyBldGhlcnMuV2FsbGV0KGNvbmZpZy5wcml2YXRlS2V5LCB0aGlzLnByb3ZpZGVyKVxuICAgIC8vIOazqOaEj++8mmNoYWluSWQg55uu5YmN5pyq5L2/55So77yM5Y+v5Zyo5pyq5p2l6ZyA6KaB5pe25ZCv55SoXG4gIH1cblxuICAvKipcbiAgICog5omn6KGM5Y6f5aeLIEpTT04tUlBDIOiwg+eUqFxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBjYWxsSnNvblJwYyhtZXRob2Q6IHN0cmluZywgcGFyYW1zOiBhbnlbXSk6IFByb21pc2U8YW55PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLnJwY1VybCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBqc29ucnBjOiAnMi4wJyxcbiAgICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgfSksXG4gICAgfSlcblxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICBpZiAoZGF0YS5lcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBKU09OLVJQQyBFcnJvcjogJHtkYXRhLmVycm9yLm1lc3NhZ2V9YClcbiAgICB9XG4gICAgcmV0dXJuIGRhdGEucmVzdWx0XG4gIH1cblxuICAvKipcbiAgICog6L2s6LSmIEVSQzIwIOS7o+W4gVxuICAgKiBAcGFyYW0gdG9rZW5BZGRyZXNzIOS7o+W4geWQiOe6puWcsOWdgFxuICAgKiBAcGFyYW0gdG9BZGRyZXNzIOaOpeaUtuWcsOWdgFxuICAgKiBAcGFyYW0gYW1vdW50IOi9rOi0puaVsOmHj++8iOWNleS9je+8mldlae+8iVxuICAgKiBAcmV0dXJucyDkuqTmmJPlk4jluIxcbiAgICovXG4gIGFzeW5jIHRyYW5zZmVyRVJDMjAoXG4gICAgdG9rZW5BZGRyZXNzOiBzdHJpbmcsXG4gICAgdG9BZGRyZXNzOiBzdHJpbmcsXG4gICAgYW1vdW50OiBzdHJpbmdcbiAgKTogUHJvbWlzZTx7IHRyYW5zYWN0aW9uSGFzaDogc3RyaW5nOyBibG9ja051bWJlcj86IG51bWJlciB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCdbQmxvY2tjaGFpbl0g5YeG5aSH6L2s6LSmIEVSQzIwIOS7o+W4gScpXG4gICAgICBjb25zb2xlLmxvZygnW0Jsb2NrY2hhaW5dIOS7o+W4geWcsOWdgDonLCB0b2tlbkFkZHJlc3MpXG4gICAgICBjb25zb2xlLmxvZygnW0Jsb2NrY2hhaW5dIOaOpeaUtuWcsOWdgDonLCB0b0FkZHJlc3MpXG4gICAgICBjb25zb2xlLmxvZygnW0Jsb2NrY2hhaW5dIOi9rOi0puaVsOmHjzonLCBhbW91bnQpXG5cbiAgICAgIC8vIOmqjOivgeWcsOWdgOagvOW8j1xuICAgICAgaWYgKCFldGhlcnMudXRpbHMuaXNBZGRyZXNzKHRva2VuQWRkcmVzcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRva2VuIGFkZHJlc3MgZm9ybWF0JylcbiAgICAgIH1cbiAgICAgIGlmICghZXRoZXJzLnV0aWxzLmlzQWRkcmVzcyh0b0FkZHJlc3MpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZWNpcGllbnQgYWRkcmVzcyBmb3JtYXQnKVxuICAgICAgfVxuXG4gICAgICAvLyDkvb/nlKjlupXlsYJKU09OLVJQQ+iwg+eUqOiAjOS4jeaYr2V0aGVycy5qcyBDb250cmFjdOaOpeWPo1xuICAgICAgLy8g5Lul6YG/5YWN572R57uc5qOA5rWL55qE6Zeu6aKYXG4gICAgICBjb25zb2xlLmxvZygnW0Jsb2NrY2hhaW5dIOS9v+eUqCBKU09OLVJQQyDmnoTlu7rovazotKbkuqTmmJMuLi4nKVxuXG4gICAgICAvLyDliJvlu7rpkrHljIXnlKjkuo7nrb7lkI1cbiAgICAgIGNvbnN0IHdhbGxldCA9IG5ldyBldGhlcnMuV2FsbGV0KHRoaXMucHJpdmF0ZUtleSlcblxuICAgICAgLy8g5L2/55So55u05o6l55qEIEpTT04tUlBDIOiwg+eUqOiAjOS4jeaYr+mAmui/hyBwcm92aWRlciDmjqXlj6NcbiAgICAgIC8vIOi/meagt+WPr+S7pemBv+WFjSBldGhlcnMuanMg55qE572R57uc5qOA5rWL6Zeu6aKYXG4gICAgICBjb25zb2xlLmxvZygnW0Jsb2NrY2hhaW5dIOmAmui/h+WOn+WniyBKU09OLVJQQyDojrflj5bkuqTmmJPmlbDmja4uLi4nKVxuXG4gICAgICBsZXQgbm9uY2U6IG51bWJlclxuICAgICAgbGV0IGdhc1ByaWNlV2VpOiBldGhlcnMuQmlnTnVtYmVyXG5cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIOebtOaOpeiwg+eUqCBKU09OLVJQQ1xuICAgICAgICBjb25zdCBub25jZUhleCA9IGF3YWl0IHRoaXMuY2FsbEpzb25ScGMoJ2V0aF9nZXRUcmFuc2FjdGlvbkNvdW50JywgW3dhbGxldC5hZGRyZXNzLCAnbGF0ZXN0J10pXG4gICAgICAgIG5vbmNlID0gcGFyc2VJbnQobm9uY2VIZXgsIDE2KVxuICAgICAgICBjb25zb2xlLmxvZygnW0Jsb2NrY2hhaW5dIOiOt+WPliBOb25jZTonLCBub25jZSlcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignW0Jsb2NrY2hhaW5dIOaXoOazleiOt+WPliBOb25jZe+8jOS9v+eUqOm7mOiupOWAvCAwJylcbiAgICAgICAgbm9uY2UgPSAwXG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGdhc1ByaWNlSGV4ID0gYXdhaXQgdGhpcy5jYWxsSnNvblJwYygnZXRoX2dhc1ByaWNlJywgW10pXG4gICAgICAgIGdhc1ByaWNlV2VpID0gZXRoZXJzLkJpZ051bWJlci5mcm9tKGdhc1ByaWNlSGV4KVxuICAgICAgICBjb25zb2xlLmxvZygnW0Jsb2NrY2hhaW5dIOiOt+WPliBHYXMgUHJpY2U6JywgZXRoZXJzLnV0aWxzLmZvcm1hdFVuaXRzKGdhc1ByaWNlV2VpLCAnZ3dlaScpLCAnZ3dlaScpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1tCbG9ja2NoYWluXSDml6Dms5Xojrflj5YgR2FzIFByaWNl77yM5L2/55So6buY6K6k5YC8IDEgZ3dlaScpXG4gICAgICAgIGdhc1ByaWNlV2VpID0gZXRoZXJzLnV0aWxzLnBhcnNlVW5pdHMoJzEnLCAnZ3dlaScpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGdhc0xpbWl0ID0gZXRoZXJzLkJpZ051bWJlci5mcm9tKCcxMDAwMDAnKVxuXG4gICAgICBjb25zb2xlLmxvZygnW0Jsb2NrY2hhaW5dIOS6pOaYk+WPguaVsDonKVxuICAgICAgY29uc29sZS5sb2coJyAg4oCiIE5vbmNlOicsIG5vbmNlKVxuICAgICAgY29uc29sZS5sb2coJyAg4oCiIEdhcyBQcmljZTonLCBldGhlcnMudXRpbHMuZm9ybWF0VW5pdHMoZ2FzUHJpY2VXZWksICdnd2VpJyksICdnd2VpJylcbiAgICAgIGNvbnNvbGUubG9nKCcgIOKAoiBHYXMgTGltaXQ6JywgZ2FzTGltaXQudG9TdHJpbmcoKSlcblxuICAgICAgLy8g5p6E5bu6IHRyYW5zZmVyKCkg5Ye95pWw6LCD55So5pWw5o2uXG4gICAgICBjb25zdCBpZmFjZSA9IG5ldyBldGhlcnMudXRpbHMuSW50ZXJmYWNlKEVSQzIwX0FCSSlcbiAgICAgIGNvbnN0IGRhdGEgPSBpZmFjZS5lbmNvZGVGdW5jdGlvbkRhdGEoJ3RyYW5zZmVyJywgW3RvQWRkcmVzcywgYW1vdW50XSlcblxuICAgICAgLy8g5p6E5bu65Lqk5piT5a+56LGhXG4gICAgICBjb25zdCB0eCA9IHtcbiAgICAgICAgdG86IHRva2VuQWRkcmVzcyxcbiAgICAgICAgZnJvbTogd2FsbGV0LmFkZHJlc3MsXG4gICAgICAgIG5vbmNlOiBub25jZSxcbiAgICAgICAgZ2FzTGltaXQ6IGdhc0xpbWl0LFxuICAgICAgICBnYXNQcmljZTogZ2FzUHJpY2VXZWksXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCdbQmxvY2tjaGFpbl0g562+5ZCN5Lqk5piTLi4uJylcbiAgICAgIC8vIOetvuWQjeS6pOaYk1xuICAgICAgY29uc3Qgc2lnbmVkVHggPSBhd2FpdCB3YWxsZXQuc2lnblRyYW5zYWN0aW9uKHR4KVxuXG4gICAgICBjb25zb2xlLmxvZygnW0Jsb2NrY2hhaW5dIOWPkemAgeetvuWQjeeahOS6pOaYk+WIsOe9kee7nC4uLicpXG4gICAgICAvLyDnm7TmjqXpgJrov4cgSlNPTi1SUEMg5Y+R6YCB5Y6f5aeL5Lqk5piT77yM6YG/5YWNIHByb3ZpZGVyIOeahOe9kee7nOajgOa1i1xuICAgICAgY29uc3QgdHhIYXNoID0gYXdhaXQgdGhpcy5jYWxsSnNvblJwYygnZXRoX3NlbmRSYXdUcmFuc2FjdGlvbicsIFtzaWduZWRUeF0pXG4gICAgICBjb25zb2xlLmxvZygnW0Jsb2NrY2hhaW5dIOS6pOaYk+W3suWPkemAge+8jEhhc2g6JywgdHhIYXNoKVxuXG4gICAgICBjb25zb2xlLmxvZygnW0Jsb2NrY2hhaW5dIOetieW+heS6pOaYk+ehruiupC4uLicpXG4gICAgICAvLyDnrYnlvoXkuqTmmJPnoa7orqTvvIjmnIDlpJrnrYnlvoUgNjAg56eS77yJXG4gICAgICBjb25zdCBtYXhBdHRlbXB0cyA9IDMwXG4gICAgICBsZXQgcmVjZWlwdDogYW55ID0gbnVsbFxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heEF0dGVtcHRzOyBpKyspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZWNlaXB0RGF0YSA9IGF3YWl0IHRoaXMuY2FsbEpzb25ScGMoJ2V0aF9nZXRUcmFuc2FjdGlvblJlY2VpcHQnLCBbdHhIYXNoXSlcbiAgICAgICAgICBpZiAocmVjZWlwdERhdGEpIHtcbiAgICAgICAgICAgIHJlY2VpcHQgPSByZWNlaXB0RGF0YVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tCbG9ja2NoYWluXSDkuqTmmJPlt7Lnoa7orqTvvIzljLrlnZflj7c6JywgcGFyc2VJbnQocmVjZWlwdERhdGEuYmxvY2tOdW1iZXIsIDE2KSlcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUud2FybignW0Jsb2NrY2hhaW5dIOetieW+heehruiupOS4rS4uLicsIGkgKyAxKVxuICAgICAgICB9XG4gICAgICAgIC8vIOetieW+hSAyIOenkuWQjumHjeivlVxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyMDAwKSlcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHJhbnNhY3Rpb25IYXNoOiB0eEhhc2gsXG4gICAgICAgIGJsb2NrTnVtYmVyOiByZWNlaXB0ID8gcGFyc2VJbnQocmVjZWlwdC5ibG9ja051bWJlciwgMTYpIDogdW5kZWZpbmVkLFxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBlcnJvck1zZyA9IChlcnJvciBhcyBFcnJvcikubWVzc2FnZVxuICAgICAgY29uc29sZS5lcnJvcignW0Jsb2NrY2hhaW5dIOi9rOi0puWksei0pTonLCBlcnJvck1zZylcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOajgOafpSBFUkMyMCDku6PluIHkvZnpop1cbiAgICogQHBhcmFtIHRva2VuQWRkcmVzcyDku6PluIHlkIjnuqblnLDlnYBcbiAgICogQHBhcmFtIGFkZHJlc3Mg6LSm5oi35Zyw5Z2AXG4gICAqIEByZXR1cm5zIOS9memine+8iOWNleS9je+8mldlae+8iVxuICAgKi9cbiAgYXN5bmMgZ2V0RVJDMjBCYWxhbmNlKHRva2VuQWRkcmVzczogc3RyaW5nLCBhZGRyZXNzOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB0b2tlbkNvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdCh0b2tlbkFkZHJlc3MsIEVSQzIwX0FCSSwgdGhpcy5wcm92aWRlcilcbiAgICAgIGNvbnN0IGJhbGFuY2UgPSBhd2FpdCB0b2tlbkNvbnRyYWN0LmJhbGFuY2VPZihhZGRyZXNzKVxuICAgICAgcmV0dXJuIGJhbGFuY2UudG9TdHJpbmcoKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQmxvY2tjaGFpbl0g5p+l6K+i5L2Z6aKd5aSx6LSlOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog6I635Y+WIERlcGxveWVyIOWcsOWdgFxuICAgKi9cbiAgYXN5bmMgZ2V0U2lnbmVyQWRkcmVzcygpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnNpZ25lci5nZXRBZGRyZXNzKClcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5bnvZHnu5zkv6Hmga9cbiAgICovXG4gIGFzeW5jIGdldE5ldHdvcmtJbmZvKCkge1xuICAgIGNvbnN0IG5ldHdvcmsgPSBhd2FpdCB0aGlzLnByb3ZpZGVyLmdldE5ldHdvcmsoKVxuICAgIHJldHVybiB7XG4gICAgICBjaGFpbklkOiBuZXR3b3JrLmNoYWluSWQsXG4gICAgICBuYW1lOiBuZXR3b3JrLm5hbWUsXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOiwg+eUqCBHYW1lRGl2aWRlbmRQb29sIOeahCBkZXBvc2l0RGl2aWRlbmQg5pa55rOV77yM5pu05paw5YiG57qiXG4gICAqIEBwYXJhbSBkaXZpZGVuZFBvb2xBZGRyZXNzIOWIhue6ouaxoOWQiOe6puWcsOWdgFxuICAgKiBAcGFyYW0gYW1vdW50IFZJUlRVQUwg5Luj5biB6YeR6aKd77yIV2VpIOWNleS9je+8iVxuICAgKiBAcmV0dXJucyDkuqTmmJPlk4jluIxcbiAgICovXG4gIGFzeW5jIHVwZGF0ZUdhbWVEaXZpZGVuZFBvb2woXG4gICAgZGl2aWRlbmRQb29sQWRkcmVzczogc3RyaW5nLFxuICAgIGFtb3VudDogc3RyaW5nXG4gICk6IFByb21pc2U8eyB0cmFuc2FjdGlvbkhhc2g6IHN0cmluZzsgYmxvY2tOdW1iZXI/OiBudW1iZXIgfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnW0Jsb2NrY2hhaW5dIOWHhuWkh+iwg+eUqCBHYW1lRGl2aWRlbmRQb29sLmRlcG9zaXREaXZpZGVuZCgpJylcbiAgICAgIGNvbnNvbGUubG9nKCdbQmxvY2tjaGFpbl0g5YiG57qi5rGg5Zyw5Z2AOicsIGRpdmlkZW5kUG9vbEFkZHJlc3MpXG4gICAgICBjb25zb2xlLmxvZygnW0Jsb2NrY2hhaW5dIOWIhue6oumHkeminTonLCBhbW91bnQpXG5cbiAgICAgIC8vIOmqjOivgeWcsOWdgOagvOW8j1xuICAgICAgaWYgKCFldGhlcnMudXRpbHMuaXNBZGRyZXNzKGRpdmlkZW5kUG9vbEFkZHJlc3MpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBkaXZpZGVuZCBwb29sIGFkZHJlc3MgZm9ybWF0JylcbiAgICAgIH1cblxuICAgICAgLy8g5Yib5bu66ZKx5YyF55So5LqO562+5ZCNXG4gICAgICBjb25zdCB3YWxsZXQgPSBuZXcgZXRoZXJzLldhbGxldCh0aGlzLnByaXZhdGVLZXkpXG5cbiAgICAgIGxldCBub25jZTogbnVtYmVyXG4gICAgICBsZXQgZ2FzUHJpY2VXZWk6IGV0aGVycy5CaWdOdW1iZXJcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgbm9uY2VIZXggPSBhd2FpdCB0aGlzLmNhbGxKc29uUnBjKCdldGhfZ2V0VHJhbnNhY3Rpb25Db3VudCcsIFt3YWxsZXQuYWRkcmVzcywgJ2xhdGVzdCddKVxuICAgICAgICBub25jZSA9IHBhcnNlSW50KG5vbmNlSGV4LCAxNilcbiAgICAgICAgY29uc29sZS5sb2coJ1tCbG9ja2NoYWluXSDojrflj5YgTm9uY2U6Jywgbm9uY2UpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1tCbG9ja2NoYWluXSDml6Dms5Xojrflj5YgTm9uY2XvvIzkvb/nlKjpu5jorqTlgLwgMCcpXG4gICAgICAgIG5vbmNlID0gMFxuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBnYXNQcmljZUhleCA9IGF3YWl0IHRoaXMuY2FsbEpzb25ScGMoJ2V0aF9nYXNQcmljZScsIFtdKVxuICAgICAgICBnYXNQcmljZVdlaSA9IGV0aGVycy5CaWdOdW1iZXIuZnJvbShnYXNQcmljZUhleClcbiAgICAgICAgY29uc29sZS5sb2coJ1tCbG9ja2NoYWluXSDojrflj5YgR2FzIFByaWNlOicsIGV0aGVycy51dGlscy5mb3JtYXRVbml0cyhnYXNQcmljZVdlaSwgJ2d3ZWknKSwgJ2d3ZWknKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbQmxvY2tjaGFpbl0g5peg5rOV6I635Y+WIEdhcyBQcmljZe+8jOS9v+eUqOm7mOiupOWAvCAxIGd3ZWknKVxuICAgICAgICBnYXNQcmljZVdlaSA9IGV0aGVycy51dGlscy5wYXJzZVVuaXRzKCcxJywgJ2d3ZWknKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBnYXNMaW1pdCA9IGV0aGVycy5CaWdOdW1iZXIuZnJvbSgnMTUwMDAwJykgLy8gZGVwb3NpdERpdmlkZW5kIOmcgOimgeabtOWkmiBnYXNcblxuICAgICAgY29uc29sZS5sb2coJ1tCbG9ja2NoYWluXSDkuqTmmJPlj4LmlbA6JylcbiAgICAgIGNvbnNvbGUubG9nKCcgIOKAoiBOb25jZTonLCBub25jZSlcbiAgICAgIGNvbnNvbGUubG9nKCcgIOKAoiBHYXMgUHJpY2U6JywgZXRoZXJzLnV0aWxzLmZvcm1hdFVuaXRzKGdhc1ByaWNlV2VpLCAnZ3dlaScpLCAnZ3dlaScpXG4gICAgICBjb25zb2xlLmxvZygnICDigKIgR2FzIExpbWl0OicsIGdhc0xpbWl0LnRvU3RyaW5nKCkpXG5cbiAgICAgIC8vIOmcgOimgeWFiOiwg+eUqCBWSVJUVUFMIOS7o+W4geeahCBhcHByb3Zl77yM5o6I5p2DIGRpdmlkZW5kUG9vbCDkvb/nlKjmiJHku6znmoTku6PluIFcbiAgICAgIGNvbnNvbGUubG9nKCdbQmxvY2tjaGFpbl0g5p6E5bu6IGFwcHJvdmUg5Lqk5piTLi4uJylcbiAgICAgIGNvbnN0IHZpcnR1YWxUb2tlbkFkZHJlc3MgPSBwcm9jZXNzLmVudi5WSVJUVUFMX1RPS0VOX0FERFJFU1NcbiAgICAgIGlmICghdmlydHVhbFRva2VuQWRkcmVzcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZJUlRVQUxfVE9LRU5fQUREUkVTUyBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBub3Qgc2V0JylcbiAgICAgIH1cblxuICAgICAgLy8g5p6E5bu6IGFwcHJvdmUg5Lqk5piT5pWw5o2uXG4gICAgICBjb25zdCBpZmFjZSA9IG5ldyBldGhlcnMudXRpbHMuSW50ZXJmYWNlKEVSQzIwX0FCSSlcbiAgICAgIGNvbnN0IGFwcHJvdmVEYXRhID0gaWZhY2UuZW5jb2RlRnVuY3Rpb25EYXRhKCdhcHByb3ZlJywgW2RpdmlkZW5kUG9vbEFkZHJlc3MsIGFtb3VudF0pXG5cbiAgICAgIGNvbnN0IGFwcHJvdmVUeCA9IHtcbiAgICAgICAgdG86IHZpcnR1YWxUb2tlbkFkZHJlc3MsXG4gICAgICAgIGZyb206IHdhbGxldC5hZGRyZXNzLFxuICAgICAgICBub25jZTogbm9uY2UsXG4gICAgICAgIGdhc0xpbWl0OiBldGhlcnMuQmlnTnVtYmVyLmZyb20oJzEwMDAwMCcpLFxuICAgICAgICBnYXNQcmljZTogZ2FzUHJpY2VXZWksXG4gICAgICAgIGRhdGE6IGFwcHJvdmVEYXRhLFxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygnW0Jsb2NrY2hhaW5dIOetvuWQjSBhcHByb3ZlIOS6pOaYky4uLicpXG4gICAgICBjb25zdCBzaWduZWRBcHByb3ZlVHggPSBhd2FpdCB3YWxsZXQuc2lnblRyYW5zYWN0aW9uKGFwcHJvdmVUeClcblxuICAgICAgY29uc29sZS5sb2coJ1tCbG9ja2NoYWluXSDlj5HpgIEgYXBwcm92ZSDkuqTmmJMuLi4nKVxuICAgICAgY29uc3QgYXBwcm92ZVR4SGFzaCA9IGF3YWl0IHRoaXMuY2FsbEpzb25ScGMoJ2V0aF9zZW5kUmF3VHJhbnNhY3Rpb24nLCBbc2lnbmVkQXBwcm92ZVR4XSlcbiAgICAgIGNvbnNvbGUubG9nKCdbQmxvY2tjaGFpbl0gQXBwcm92ZSDkuqTmmJPlt7Llj5HpgIHvvIxIYXNoOicsIGFwcHJvdmVUeEhhc2gpXG5cbiAgICAgIC8vIOetieW+hSBhcHByb3ZlIOS6pOaYk+ehruiupFxuICAgICAgY29uc29sZS5sb2coJ1tCbG9ja2NoYWluXSDnrYnlvoUgYXBwcm92ZSDkuqTmmJPnoa7orqQuLi4nKVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzMDsgaSsrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVjZWlwdERhdGEgPSBhd2FpdCB0aGlzLmNhbGxKc29uUnBjKCdldGhfZ2V0VHJhbnNhY3Rpb25SZWNlaXB0JywgW2FwcHJvdmVUeEhhc2hdKVxuICAgICAgICAgIGlmIChyZWNlaXB0RGF0YSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tCbG9ja2NoYWluXSBBcHByb3ZlIOS6pOaYk+W3suehruiupCcpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1tCbG9ja2NoYWluXSDnrYnlvoUgYXBwcm92ZSDnoa7orqTkuK0uLi4nLCBpICsgMSlcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyMDAwKSlcbiAgICAgIH1cblxuICAgICAgLy8g546w5Zyo5p6E5bu6IGRlcG9zaXREaXZpZGVuZCDkuqTmmJNcbiAgICAgIGNvbnNvbGUubG9nKCdbQmxvY2tjaGFpbl0g5p6E5bu6IGRlcG9zaXREaXZpZGVuZCDkuqTmmJMuLi4nKVxuICAgICAgY29uc3QgZGVwb3NpdElmYWNlID0gbmV3IGV0aGVycy51dGlscy5JbnRlcmZhY2UoRElWSURFTkRfUE9PTF9BQkkpXG4gICAgICBjb25zdCBkZXBvc2l0RGF0YSA9IGRlcG9zaXRJZmFjZS5lbmNvZGVGdW5jdGlvbkRhdGEoJ2RlcG9zaXREaXZpZGVuZCcsIFthbW91bnRdKVxuXG4gICAgICBjb25zdCBkZXBvc2l0VHggPSB7XG4gICAgICAgIHRvOiBkaXZpZGVuZFBvb2xBZGRyZXNzLFxuICAgICAgICBmcm9tOiB3YWxsZXQuYWRkcmVzcyxcbiAgICAgICAgbm9uY2U6IG5vbmNlICsgMSwgLy8gTm9uY2Ug6ZyA6KaB6YCS5aKeXG4gICAgICAgIGdhc0xpbWl0OiBldGhlcnMuQmlnTnVtYmVyLmZyb20oJzE1MDAwMCcpLFxuICAgICAgICBnYXNQcmljZTogZ2FzUHJpY2VXZWksXG4gICAgICAgIGRhdGE6IGRlcG9zaXREYXRhLFxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygnW0Jsb2NrY2hhaW5dIOetvuWQjSBkZXBvc2l0RGl2aWRlbmQg5Lqk5piTLi4uJylcbiAgICAgIGNvbnN0IHNpZ25lZERlcG9zaXRUeCA9IGF3YWl0IHdhbGxldC5zaWduVHJhbnNhY3Rpb24oZGVwb3NpdFR4KVxuXG4gICAgICBjb25zb2xlLmxvZygnW0Jsb2NrY2hhaW5dIOWPkemAgSBkZXBvc2l0RGl2aWRlbmQg5Lqk5piTLi4uJylcbiAgICAgIGNvbnN0IGRlcG9zaXRUeEhhc2ggPSBhd2FpdCB0aGlzLmNhbGxKc29uUnBjKCdldGhfc2VuZFJhd1RyYW5zYWN0aW9uJywgW3NpZ25lZERlcG9zaXRUeF0pXG4gICAgICBjb25zb2xlLmxvZygnW0Jsb2NrY2hhaW5dIERlcG9zaXQg5Lqk5piT5bey5Y+R6YCB77yMSGFzaDonLCBkZXBvc2l0VHhIYXNoKVxuXG4gICAgICAvLyDnrYnlvoUgZGVwb3NpdCDkuqTmmJPnoa7orqRcbiAgICAgIGNvbnNvbGUubG9nKCdbQmxvY2tjaGFpbl0g562J5b6FIGRlcG9zaXREaXZpZGVuZCDkuqTmmJPnoa7orqQuLi4nKVxuICAgICAgbGV0IHJlY2VpcHQ6IGFueSA9IG51bGxcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzA7IGkrKykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlY2VpcHREYXRhID0gYXdhaXQgdGhpcy5jYWxsSnNvblJwYygnZXRoX2dldFRyYW5zYWN0aW9uUmVjZWlwdCcsIFtkZXBvc2l0VHhIYXNoXSlcbiAgICAgICAgICBpZiAocmVjZWlwdERhdGEpIHtcbiAgICAgICAgICAgIHJlY2VpcHQgPSByZWNlaXB0RGF0YVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tCbG9ja2NoYWluXSBEZXBvc2l0IOS6pOaYk+W3suehruiupO+8jOWMuuWdl+WPtzonLCBwYXJzZUludChyZWNlaXB0RGF0YS5ibG9ja051bWJlciwgMTYpKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdbQmxvY2tjaGFpbl0g562J5b6FIGRlcG9zaXQg56Gu6K6k5LitLi4uJywgaSArIDEpXG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwMCkpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRyYW5zYWN0aW9uSGFzaDogZGVwb3NpdFR4SGFzaCxcbiAgICAgICAgYmxvY2tOdW1iZXI6IHJlY2VpcHQgPyBwYXJzZUludChyZWNlaXB0LmJsb2NrTnVtYmVyLCAxNikgOiB1bmRlZmluZWQsXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGVycm9yTXNnID0gKGVycm9yIGFzIEVycm9yKS5tZXNzYWdlXG4gICAgICBjb25zb2xlLmVycm9yKCdbQmxvY2tjaGFpbl0g5YiG57qi5pu05paw5aSx6LSlOicsIGVycm9yTXNnKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5p+l6K+i55So5oi355qE5YiG57qi5L+h5oGvXG4gICAqIEBwYXJhbSBkaXZpZGVuZFBvb2xBZGRyZXNzIOWIhue6ouaxoOWQiOe6puWcsOWdgFxuICAgKiBAcGFyYW0gdXNlckFkZHJlc3Mg55So5oi35Zyw5Z2AXG4gICAqIEByZXR1cm5zIOeUqOaIt+WIhue6ouS/oeaBr1xuICAgKi9cbiAgYXN5bmMgZ2V0VXNlckRpdmlkZW5kSW5mbyhcbiAgICBkaXZpZGVuZFBvb2xBZGRyZXNzOiBzdHJpbmcsXG4gICAgdXNlckFkZHJlc3M6IHN0cmluZ1xuICApOiBQcm9taXNlPHtcbiAgICBwZW5kaW5nOiBzdHJpbmdcbiAgICBjbGFpbWVkOiBzdHJpbmdcbiAgICBnYW1lQmFsYW5jZTogc3RyaW5nXG4gIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ1tCbG9ja2NoYWluXSDmn6Xor6LnlKjmiLfliIbnuqLkv6Hmga8nKVxuICAgICAgY29uc29sZS5sb2coJ1tCbG9ja2NoYWluXSDliIbnuqLmsaDlnLDlnYA6JywgZGl2aWRlbmRQb29sQWRkcmVzcylcbiAgICAgIGNvbnNvbGUubG9nKCdbQmxvY2tjaGFpbl0g55So5oi35Zyw5Z2AOicsIHVzZXJBZGRyZXNzKVxuXG4gICAgICAvLyDpqozor4HlnLDlnYDmoLzlvI9cbiAgICAgIGlmICghZXRoZXJzLnV0aWxzLmlzQWRkcmVzcyhkaXZpZGVuZFBvb2xBZGRyZXNzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZGl2aWRlbmQgcG9vbCBhZGRyZXNzIGZvcm1hdCcpXG4gICAgICB9XG4gICAgICBpZiAoIWV0aGVycy51dGlscy5pc0FkZHJlc3ModXNlckFkZHJlc3MpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB1c2VyIGFkZHJlc3MgZm9ybWF0JylcbiAgICAgIH1cblxuICAgICAgLy8g5Yib5bu65ZCI57qm5a6e5L6L5bm26LCD55SoIHZpZXcg5Ye95pWwXG4gICAgICBjb25zdCBjb250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoZGl2aWRlbmRQb29sQWRkcmVzcywgRElWSURFTkRfUE9PTF9BQkksIHRoaXMucHJvdmlkZXIpXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cmFjdC5nZXRVc2VyRGl2aWRlbmRJbmZvKHVzZXJBZGRyZXNzKVxuXG4gICAgICBjb25zb2xlLmxvZygnW0Jsb2NrY2hhaW5dIOeUqOaIt+WIhue6ouS/oeaBr+afpeivouaIkOWKnycpXG4gICAgICBjb25zb2xlLmxvZygnW0Jsb2NrY2hhaW5dIOW+heaPkOWPluWIhue6ojonLCByZXN1bHQucGVuZGluZy50b1N0cmluZygpKVxuICAgICAgY29uc29sZS5sb2coJ1tCbG9ja2NoYWluXSDlt7Lmj5Dlj5bliIbnuqI6JywgcmVzdWx0LmNsYWltZWQudG9TdHJpbmcoKSlcbiAgICAgIGNvbnNvbGUubG9nKCdbQmxvY2tjaGFpbl0gR0FNRSDkvZnpop06JywgcmVzdWx0LmdhbWVCYWxhbmNlLnRvU3RyaW5nKCkpXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBlbmRpbmc6IHJlc3VsdC5wZW5kaW5nLnRvU3RyaW5nKCksXG4gICAgICAgIGNsYWltZWQ6IHJlc3VsdC5jbGFpbWVkLnRvU3RyaW5nKCksXG4gICAgICAgIGdhbWVCYWxhbmNlOiByZXN1bHQuZ2FtZUJhbGFuY2UudG9TdHJpbmcoKSxcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZXJyb3JNc2cgPSAoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2VcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tCbG9ja2NoYWluXSDmn6Xor6LliIbnuqLkv6Hmga/lpLHotKU6JywgZXJyb3JNc2cpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDmn6Xor6LliIbnuqLmsaDnmoTnu5/orqHmlbDmja5cbiAgICogQHBhcmFtIGRpdmlkZW5kUG9vbEFkZHJlc3Mg5YiG57qi5rGg5ZCI57qm5Zyw5Z2AXG4gICAqIEByZXR1cm5zIOWIhue6ouaxoOe7n+iuoeS/oeaBr1xuICAgKi9cbiAgYXN5bmMgZ2V0RGl2aWRlbmRQb29sU3RhdHMoXG4gICAgZGl2aWRlbmRQb29sQWRkcmVzczogc3RyaW5nXG4gICk6IFByb21pc2U8e1xuICAgIHRvdGFsRGl2aWRlbmRQb29sOiBzdHJpbmdcbiAgICB0b3RhbENsYWltZWQ6IHN0cmluZ1xuICAgIHRvdGFsUGVuZGluZzogc3RyaW5nXG4gICAgdG90YWxEaXZpZGVuZFBlclNoYXJlOiBzdHJpbmdcbiAgfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnW0Jsb2NrY2hhaW5dIOafpeivouWIhue6ouaxoOe7n+iuoeS/oeaBrycpXG5cbiAgICAgIC8vIOmqjOivgeWcsOWdgOagvOW8j1xuICAgICAgaWYgKCFldGhlcnMudXRpbHMuaXNBZGRyZXNzKGRpdmlkZW5kUG9vbEFkZHJlc3MpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBkaXZpZGVuZCBwb29sIGFkZHJlc3MgZm9ybWF0JylcbiAgICAgIH1cblxuICAgICAgY29uc3QgY29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KGRpdmlkZW5kUG9vbEFkZHJlc3MsIERJVklERU5EX1BPT0xfQUJJLCB0aGlzLnByb3ZpZGVyKVxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJhY3QuZ2V0UG9vbFN0YXRzKClcblxuICAgICAgY29uc29sZS5sb2coJ1tCbG9ja2NoYWluXSDliIbnuqLmsaDnu5/orqHkv6Hmga/mn6Xor6LmiJDlip8nKVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3RhbERpdmlkZW5kUG9vbDogcmVzdWx0Ll90b3RhbERpdmlkZW5kUG9vbC50b1N0cmluZygpLFxuICAgICAgICB0b3RhbENsYWltZWQ6IHJlc3VsdC5fdG90YWxDbGFpbWVkLnRvU3RyaW5nKCksXG4gICAgICAgIHRvdGFsUGVuZGluZzogcmVzdWx0Ll90b3RhbFBlbmRpbmcudG9TdHJpbmcoKSxcbiAgICAgICAgdG90YWxEaXZpZGVuZFBlclNoYXJlOiByZXN1bHQuX3RvdGFsRGl2aWRlbmRQZXJTaGFyZS50b1N0cmluZygpLFxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBlcnJvck1zZyA9IChlcnJvciBhcyBFcnJvcikubWVzc2FnZVxuICAgICAgY29uc29sZS5lcnJvcignW0Jsb2NrY2hhaW5dIOafpeivouWIhue6ouaxoOe7n+iuoeWksei0pTonLCBlcnJvck1zZylcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICog5Yib5bu65Yy65Z2X6ZO+5a6i5oi356uv5a6e5L6LXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCbG9ja2NoYWluQ2xpZW50KCk6IEJsb2NrY2hhaW5DbGllbnQge1xuICBjb25zdCBycGNVcmwgPSBwcm9jZXNzLmVudi5CQVNFX1NFUE9MSUFfUlBDX1VSTFxuICBjb25zdCBwcml2YXRlS2V5ID0gcHJvY2Vzcy5lbnYuREVQTE9ZRVJfUFJJVkFURV9LRVlcbiAgY29uc3QgY2hhaW5JZCA9IHBhcnNlSW50KHByb2Nlc3MuZW52LkNIQUlOX0lEIHx8ICc4NDUzMicpXG5cbiAgaWYgKCFycGNVcmwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0JBU0VfU0VQT0xJQV9SUENfVVJMIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQnKVxuICB9XG5cbiAgaWYgKCFwcml2YXRlS2V5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdERVBMT1lFUl9QUklWQVRFX0tFWSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBub3Qgc2V0JylcbiAgfVxuXG4gIHJldHVybiBuZXcgQmxvY2tjaGFpbkNsaWVudCh7XG4gICAgcnBjVXJsLFxuICAgIHByaXZhdGVLZXksXG4gICAgY2hhaW5JZCxcbiAgfSlcbn1cblxuLyoqXG4gKiDlsIblrZfnrKbkuLLmlbDlrZfovazmjaLkuLogV2Vp77yIRVJDMjAg5qCH5YeG6YCa5bi45pivIDE4IOS9jeWwj+aVsO+8iVxuICogQHBhcmFtIGFtb3VudCDmlbDlrZfvvIjlpoIgXCIxXCLvvIlcbiAqIEBwYXJhbSBkZWNpbWFscyDlsI/mlbDkvY3mlbDvvIjpu5jorqQgMTjvvIlcbiAqIEByZXR1cm5zIFdlaSDmoLzlvI/nmoTlrZfnrKbkuLJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvV2VpKGFtb3VudDogc3RyaW5nLCBkZWNpbWFsczogbnVtYmVyID0gMTgpOiBzdHJpbmcge1xuICByZXR1cm4gZXRoZXJzLnV0aWxzLnBhcnNlVW5pdHMoYW1vdW50LCBkZWNpbWFscykudG9TdHJpbmcoKVxufVxuXG4vKipcbiAqIOWwhiBXZWkg6L2s5o2i5Li65a2X56ym5Liy5pWw5a2XXG4gKiBAcGFyYW0gd2VpIFdlaSDmoLzlvI/nmoTlrZfnrKbkuLJcbiAqIEBwYXJhbSBkZWNpbWFscyDlsI/mlbDkvY3mlbDvvIjpu5jorqQgMTjvvIlcbiAqIEByZXR1cm5zIOaZrumAmuaVsOWtl+Wtl+espuS4slxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVdlaSh3ZWk6IHN0cmluZywgZGVjaW1hbHM6IG51bWJlciA9IDE4KTogc3RyaW5nIHtcbiAgcmV0dXJuIGV0aGVycy51dGlscy5mb3JtYXRVbml0cyh3ZWksIGRlY2ltYWxzKVxufVxuIl0sIm5hbWVzIjpbImV0aGVycyIsIkVSQzIwX0FCSSIsIkRJVklERU5EX1BPT0xfQUJJIiwiQmxvY2tjaGFpbkNsaWVudCIsInByb3ZpZGVyIiwic2lnbmVyIiwicnBjVXJsIiwicHJpdmF0ZUtleSIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwicHJvdmlkZXJzIiwiSnNvblJwY1Byb3ZpZGVyIiwiV2FsbGV0IiwiY2FsbEpzb25ScGMiLCJtZXRob2QiLCJwYXJhbXMiLCJyZXNwb25zZSIsImZldGNoIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwianNvbnJwYyIsImlkIiwiRGF0ZSIsIm5vdyIsImRhdGEiLCJqc29uIiwiZXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJyZXN1bHQiLCJ0cmFuc2ZlckVSQzIwIiwidG9rZW5BZGRyZXNzIiwidG9BZGRyZXNzIiwiYW1vdW50IiwiY29uc29sZSIsImxvZyIsInV0aWxzIiwiaXNBZGRyZXNzIiwid2FsbGV0Iiwibm9uY2UiLCJnYXNQcmljZVdlaSIsIm5vbmNlSGV4IiwiYWRkcmVzcyIsInBhcnNlSW50Iiwid2FybiIsImdhc1ByaWNlSGV4IiwiQmlnTnVtYmVyIiwiZnJvbSIsImZvcm1hdFVuaXRzIiwicGFyc2VVbml0cyIsImdhc0xpbWl0IiwidG9TdHJpbmciLCJpZmFjZSIsIkludGVyZmFjZSIsImVuY29kZUZ1bmN0aW9uRGF0YSIsInR4IiwidG8iLCJnYXNQcmljZSIsInNpZ25lZFR4Iiwic2lnblRyYW5zYWN0aW9uIiwidHhIYXNoIiwibWF4QXR0ZW1wdHMiLCJyZWNlaXB0IiwiaSIsInJlY2VpcHREYXRhIiwiYmxvY2tOdW1iZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJ0cmFuc2FjdGlvbkhhc2giLCJ1bmRlZmluZWQiLCJlcnJvck1zZyIsImdldEVSQzIwQmFsYW5jZSIsInRva2VuQ29udHJhY3QiLCJDb250cmFjdCIsImJhbGFuY2UiLCJiYWxhbmNlT2YiLCJnZXRTaWduZXJBZGRyZXNzIiwiZ2V0QWRkcmVzcyIsImdldE5ldHdvcmtJbmZvIiwibmV0d29yayIsImdldE5ldHdvcmsiLCJjaGFpbklkIiwibmFtZSIsInVwZGF0ZUdhbWVEaXZpZGVuZFBvb2wiLCJkaXZpZGVuZFBvb2xBZGRyZXNzIiwidmlydHVhbFRva2VuQWRkcmVzcyIsInByb2Nlc3MiLCJlbnYiLCJWSVJUVUFMX1RPS0VOX0FERFJFU1MiLCJhcHByb3ZlRGF0YSIsImFwcHJvdmVUeCIsInNpZ25lZEFwcHJvdmVUeCIsImFwcHJvdmVUeEhhc2giLCJkZXBvc2l0SWZhY2UiLCJkZXBvc2l0RGF0YSIsImRlcG9zaXRUeCIsInNpZ25lZERlcG9zaXRUeCIsImRlcG9zaXRUeEhhc2giLCJnZXRVc2VyRGl2aWRlbmRJbmZvIiwidXNlckFkZHJlc3MiLCJjb250cmFjdCIsInBlbmRpbmciLCJjbGFpbWVkIiwiZ2FtZUJhbGFuY2UiLCJnZXREaXZpZGVuZFBvb2xTdGF0cyIsImdldFBvb2xTdGF0cyIsInRvdGFsRGl2aWRlbmRQb29sIiwiX3RvdGFsRGl2aWRlbmRQb29sIiwidG90YWxDbGFpbWVkIiwiX3RvdGFsQ2xhaW1lZCIsInRvdGFsUGVuZGluZyIsIl90b3RhbFBlbmRpbmciLCJ0b3RhbERpdmlkZW5kUGVyU2hhcmUiLCJfdG90YWxEaXZpZGVuZFBlclNoYXJlIiwiY3JlYXRlQmxvY2tjaGFpbkNsaWVudCIsIkJBU0VfU0VQT0xJQV9SUENfVVJMIiwiREVQTE9ZRVJfUFJJVkFURV9LRVkiLCJDSEFJTl9JRCIsInRvV2VpIiwiZGVjaW1hbHMiLCJmcm9tV2VpIiwid2VpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/blockchain.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@ethersproject","vendor-chunks/bn.js","vendor-chunks/aes-js","vendor-chunks/hash.js","vendor-chunks/js-sha3","vendor-chunks/scrypt-js","vendor-chunks/bech32","vendor-chunks/inherits","vendor-chunks/minimalistic-assert"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdividend%2Fbalance%2Froute&page=%2Fapi%2Fdividend%2Fbalance%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdividend%2Fbalance%2Froute.ts&appDir=%2FUsers%2Fdaniel%2FCode%2F10_project%2FGame%2Fserver%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fdaniel%2FCode%2F10_project%2FGame%2Fserver&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();